<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="theme-color" content="#667eea">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Cycle Mart">
<meta name="format-detection" content="telephone=yes">
<title id="siteTitle">Popular Cycle Mart</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;800&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
:root{
  --c1:#667eea;--c2:#764ba2;
  --grad:linear-gradient(135deg,#667eea,#764ba2);
  --font:"DM Sans",sans-serif;
  --display:"Playfair Display",serif;
  --footerBg:#1a1a2e;
  --wishlist:#ff4757;
  --star:#f39c12;
  --surface:#f8f9ff;
  --shadow:0 4px 24px rgba(102,126,234,.12);
}
body{font-family:var(--font);background:var(--surface);color:#2c3e50;}

/* â•â• SEARCH BAR â•â• */
.search-hero{max-width:680px;margin:2rem auto 0;padding:0 1rem;}
.search-wrap{position:relative;display:flex;align-items:center;}
.search-wrap input{width:100%;padding:.9rem 1.4rem .9rem 3.2rem;border:2.5px solid rgba(255,255,255,.4);border-radius:50px;font-size:1rem;font-family:var(--font);background:rgba(255,255,255,.18);color:#fff;backdrop-filter:blur(10px);transition:all .3s;outline:none;}
.search-wrap input::placeholder{color:rgba(255,255,255,.7);}
.search-wrap input:focus{background:rgba(255,255,255,.28);border-color:rgba(255,255,255,.7);box-shadow:0 0 0 4px rgba(255,255,255,.12);}
.search-icon{position:absolute;left:1rem;font-size:1.1rem;pointer-events:none;}
.search-clear{position:absolute;right:1rem;background:rgba(255,255,255,.3);border:none;color:#fff;width:24px;height:24px;border-radius:50%;cursor:pointer;font-size:.85rem;display:none;align-items:center;justify-content:center;transition:.2s;}
.search-clear.visible{display:flex;}
.search-results-count{color:rgba(255,255,255,.8);font-size:.82rem;margin-top:.5rem;text-align:center;min-height:1.2em;}

/* â•â• NAVBAR â•â• */
header{background:var(--grad);color:#fff;padding:.85rem 0;position:sticky;top:0;z-index:900;box-shadow:0 2px 16px rgba(102,126,234,.3);}
.hdr{max-width:1260px;margin:0 auto;padding:0 1.5rem;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:.5rem;}
.logo{font-family:var(--display);font-size:1.55rem;font-weight:800;display:flex;align-items:center;gap:.4rem;letter-spacing:-.3px;}
nav{display:flex;gap:1rem;align-items:center;}
nav a{color:rgba(255,255,255,.9);text-decoration:none;font-weight:500;font-size:.93rem;transition:opacity .2s;}
nav a:hover{opacity:.75;}
.cart-btn,.wishlist-btn{background:rgba(255,255,255,.2);padding:.42rem 1.1rem;border-radius:25px;cursor:pointer;position:relative;color:#fff;font-weight:600;border:none;transition:background .3s;font-family:var(--font);font-size:.9rem;}
.cart-btn:hover,.wishlist-btn:hover{background:rgba(255,255,255,.32);}
.badge{background:#ff4757;color:#fff;border-radius:50%;padding:.12rem .42rem;font-size:.72rem;position:absolute;top:-7px;right:-7px;min-width:18px;text-align:center;font-weight:700;}
.wishlist-btn .badge{background:#f39c12;}

/* â•â• HERO â•â• */
.hero-cinematic{position:relative;height:100vh;min-height:600px;overflow:hidden;}
.hero-slides{position:relative;width:100%;height:100%;}
.hero-slide{position:absolute;inset:0;background-size:cover;background-position:center;opacity:0;transition:opacity 1s ease;}
.hero-slide.active{opacity:1;}
.slide-overlay{position:absolute;inset:0;background:linear-gradient(135deg,rgba(0,0,0,.58) 0%,rgba(0,0,0,.22) 100%);}
.slide-content{position:relative;z-index:2;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:2rem 1.5rem;color:#fff;}
.slide-badge{background:rgba(255,255,255,.18);backdrop-filter:blur(6px);border:1px solid rgba(255,255,255,.35);padding:.45rem 1.2rem;border-radius:25px;font-size:.88rem;font-weight:700;margin-bottom:1rem;letter-spacing:.5px;}
.slide-content h1{font-family:var(--display);font-size:3.6rem;font-weight:800;line-height:1.12;margin-bottom:.7rem;text-shadow:0 2px 24px rgba(0,0,0,.4);}
.slide-content p{font-size:1.12rem;opacity:.92;margin-bottom:.35rem;text-shadow:0 1px 8px rgba(0,0,0,.35);}
.hero-tagline{font-size:.88rem!important;opacity:.75!important;font-style:italic;}
.hero-btns{display:flex;gap:.9rem;margin-top:1.6rem;flex-wrap:wrap;justify-content:center;}
.hbtn{padding:.72rem 1.9rem;border-radius:30px;font-weight:700;font-size:.97rem;text-decoration:none;transition:all .3s;font-family:var(--font);}
.hbtn-primary{background:var(--grad);color:#fff;box-shadow:0 4px 20px rgba(0,0,0,.3);}
.hbtn-primary:hover{transform:translateY(-2px);box-shadow:0 8px 28px rgba(0,0,0,.4);}
.hbtn-outline{background:rgba(255,255,255,.15);color:#fff;border:2px solid rgba(255,255,255,.7);backdrop-filter:blur(4px);}
.hbtn-outline:hover{background:rgba(255,255,255,.25);}
.hero-dots{position:absolute;bottom:2rem;left:50%;transform:translateX(-50%);display:flex;gap:.6rem;z-index:5;}
.hdot{width:10px;height:10px;border-radius:50%;background:rgba(255,255,255,.45);cursor:pointer;transition:all .3s;}
.hdot.active{background:#fff;width:28px;border-radius:6px;}
.harrow{position:absolute;top:50%;transform:translateY(-50%);background:rgba(255,255,255,.18);backdrop-filter:blur(6px);border:1px solid rgba(255,255,255,.3);color:#fff;font-size:2.4rem;width:52px;height:52px;border-radius:50%;cursor:pointer;z-index:5;display:flex;align-items:center;justify-content:center;transition:background .3s;line-height:1;}
.harrow:hover{background:rgba(255,255,255,.32);}
.harrow-l{left:1.5rem;}.harrow-r{right:1.5rem;}
.scroll-hint{position:absolute;bottom:5rem;left:50%;transform:translateX(-50%);color:rgba(255,255,255,.6);font-size:.8rem;letter-spacing:1.5px;animation:bounce 2s infinite;z-index:5;text-transform:uppercase;}
@keyframes bounce{0%,100%{transform:translateX(-50%) translateY(0);}50%{transform:translateX(-50%) translateY(7px);}}

/* â•â• WHY STRIP â•â• */
.why-strip{background:#fff;box-shadow:0 4px 20px rgba(0,0,0,.06);padding:1.1rem 1.5rem;}
.why-inner{max-width:1260px;margin:0 auto;display:flex;justify-content:space-around;flex-wrap:wrap;gap:.8rem;}
.why-item{display:flex;align-items:center;gap:.7rem;padding:.4rem;}
.why-icon{font-size:1.75rem;}
.why-item strong{display:block;font-weight:700;color:#2c3e50;font-size:.93rem;}
.why-item p{font-size:.76rem;color:#7f8c8d;margin:0;}

/* â•â• GALLERY â•â• */
.gallery-section{max-width:1260px;margin:3.5rem auto;padding:0 1.5rem;}
.gallery-header,.cat-header,.section-title{text-align:center;margin-bottom:2rem;}
.gallery-header h2,.cat-header h2,.section-title h2{font-family:var(--display);font-size:2rem;color:#2c3e50;margin-bottom:.4rem;}
.gallery-header p,.cat-header p,.section-title p{color:#7f8c8d;font-size:.97rem;}
.gallery-grid{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:220px 220px;gap:14px;}
.gallery-item{border-radius:14px;background-size:cover;background-position:center;position:relative;overflow:hidden;cursor:pointer;transition:transform .35s,box-shadow .35s;}
.gallery-item:hover{transform:scale(1.03);box-shadow:0 12px 35px rgba(0,0,0,.2);z-index:2;}
.gi-tall{grid-row:span 2;}.gi-wide{grid-column:span 2;}
.gi-overlay{position:absolute;inset:0;background:linear-gradient(to top,rgba(0,0,0,.62) 0%,transparent 55%);display:flex;align-items:flex-end;padding:1.1rem;opacity:0;transition:opacity .3s;}
.gallery-item:hover .gi-overlay{opacity:1;}
.gi-overlay span{color:#fff;font-weight:700;font-size:.95rem;letter-spacing:.5px;}

/* â•â• CATEGORY CARDS â•â• */
.cat-section{max-width:1260px;margin:3rem auto;padding:0 1.5rem;}
.cat-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:14px;}
.cat-card{border-radius:16px;height:200px;background-size:cover;background-position:center;position:relative;overflow:hidden;cursor:pointer;transition:transform .35s,box-shadow .35s;}
.cat-card:hover{transform:translateY(-8px);box-shadow:0 16px 40px rgba(0,0,0,.2);}
.cat-overlay{position:absolute;inset:0;background:linear-gradient(to top,rgba(0,0,0,.74) 0%,rgba(0,0,0,.1) 100%);display:flex;flex-direction:column;align-items:center;justify-content:flex-end;padding:1.1rem .8rem;text-align:center;}
.cat-emoji{font-size:2rem;margin-bottom:.3rem;filter:drop-shadow(0 2px 4px rgba(0,0,0,.4));}
.cat-name{color:#fff;font-weight:800;font-size:.98rem;line-height:1.2;}
.cat-sub{color:rgba(255,255,255,.7);font-size:.73rem;margin-top:.15rem;}

/* â•â• FILTERS â•â• */
.filters-bar{max-width:1260px;margin:2rem auto 0;padding:0 1.5rem;display:flex;gap:.7rem;flex-wrap:wrap;align-items:center;}
.fbtn{padding:.48rem 1.2rem;border:2px solid var(--c1);background:#fff;color:var(--c1);border-radius:25px;cursor:pointer;font-weight:600;font-size:.87rem;transition:all .3s;font-family:var(--font);}
.fbtn:hover,.fbtn.active{background:var(--c1);color:#fff;}
.sort-select{margin-left:auto;padding:.48rem 1rem;border:2px solid #e0e0e0;border-radius:25px;font-family:var(--font);font-size:.87rem;color:#555;cursor:pointer;background:#fff;outline:none;}
.results-info{max-width:1260px;margin:.6rem auto 0;padding:0 1.5rem;font-size:.85rem;color:#888;}

/* â•â• PRODUCT GRID â•â• */
.container{max-width:1260px;margin:1.2rem auto 2rem;padding:0 1.5rem;}
.pgrid{display:grid;grid-template-columns:repeat(auto-fill,minmax(275px,1fr));gap:1.8rem;}
.pcard{background:#fff;border-radius:16px;overflow:hidden;box-shadow:var(--shadow);transition:transform .3s,box-shadow .3s;position:relative;}
.pcard:hover{transform:translateY(-5px);box-shadow:0 12px 36px rgba(102,126,234,.18);}
.pimg{width:100%;height:210px;background:#f0f2f8;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;}
.pimg img{width:100%;height:100%;object-fit:cover;}
.emoji-placeholder{font-size:5rem;}
.pbadge{position:absolute;top:10px;right:10px;background:#ff4757;color:#fff;padding:.22rem .7rem;border-radius:20px;font-size:.76rem;font-weight:700;}
.disc-badge{position:absolute;top:10px;left:10px;background:#2ed573;color:#fff;padding:.22rem .7rem;border-radius:20px;font-size:.76rem;font-weight:700;}
.out-badge{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,.65);color:#fff;padding:.5rem 1rem;border-radius:8px;font-size:1rem;font-weight:700;}
/* Wishlist heart button */
.wish-btn{position:absolute;top:10px;right:10px;width:34px;height:34px;border-radius:50%;background:rgba(255,255,255,.9);border:none;font-size:1.1rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .25s;box-shadow:0 2px 8px rgba(0,0,0,.15);z-index:5;}
.wish-btn:hover{transform:scale(1.15);}
.wish-btn.wished{background:#fff0f2;color:#ff4757;}
.pinfo{padding:1.15rem;}
.pcat{color:var(--c1);font-size:.77rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;}
.pname{font-family:var(--display);font-size:1.1rem;font-weight:700;margin:.3rem 0;color:#2c3e50;}
.pdesc{color:#7f8c8d;font-size:.86rem;margin-bottom:.7rem;line-height:1.5;}
.pspecs{display:flex;gap:.5rem;flex-wrap:wrap;margin-bottom:.75rem;}
.spec{color:#555;font-size:.77rem;background:#f0f2f8;padding:.18rem .45rem;border-radius:6px;}
/* Stars */
.star-row{display:flex;align-items:center;gap:.4rem;margin-bottom:.7rem;}
.stars{color:var(--star);font-size:.88rem;letter-spacing:1px;}
.stars-empty{color:#ddd;}
.review-count{font-size:.76rem;color:#aaa;}
.pfoot{display:flex;justify-content:space-between;align-items:center;padding-top:.75rem;border-top:1px solid #ecf0f1;}
.price-block .orig{text-decoration:line-through;color:#aaa;font-size:.83rem;}
.price-block .final{font-size:1.32rem;font-weight:700;color:var(--c1);font-family:var(--display);}
.price-block .saving{font-size:.76rem;color:#2ed573;font-weight:600;}
.atc{background:var(--grad);color:#fff;border:none;padding:.52rem 1.15rem;border-radius:25px;cursor:pointer;font-weight:600;font-size:.87rem;transition:transform .2s,box-shadow .2s;font-family:var(--font);}
.atc:hover{transform:scale(1.05);box-shadow:0 4px 14px rgba(102,126,234,.4);}
.atc:disabled{background:#ccc;cursor:not-allowed;transform:none;box-shadow:none;}
.no-results{text-align:center;padding:4rem 1rem;color:#aaa;}
.no-results .nr-icon{font-size:4rem;margin-bottom:1rem;}
.no-results h3{font-family:var(--display);font-size:1.4rem;margin-bottom:.5rem;color:#ccc;}

/* â•â• REVIEWS SECTION â•â• */
.reviews-section{max-width:1260px;margin:3rem auto;padding:0 1.5rem;}
.reviews-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.4rem;margin-top:1.5rem;}
.rcard{background:#fff;border-radius:14px;padding:1.4rem;box-shadow:var(--shadow);position:relative;}
.rcard::before{content:'"';font-family:var(--display);font-size:5rem;color:var(--c1);opacity:.1;position:absolute;top:.2rem;left:1rem;line-height:1;}
.rhead{display:flex;align-items:center;gap:.9rem;margin-bottom:.8rem;}
.ravatar{width:46px;height:46px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;color:#fff;font-size:1.1rem;flex-shrink:0;}
.rname{font-weight:700;color:#2c3e50;font-size:.95rem;}
.rproduct{font-size:.76rem;color:#7f8c8d;}
.rtext{color:#555;font-size:.88rem;line-height:1.6;}
.rdate{font-size:.74rem;color:#bbb;margin-top:.6rem;}
.write-review-btn{display:inline-flex;align-items:center;gap:.5rem;background:var(--grad);color:#fff;border:none;padding:.65rem 1.4rem;border-radius:25px;cursor:pointer;font-weight:600;font-family:var(--font);font-size:.9rem;transition:transform .2s,box-shadow .2s;margin-bottom:1.5rem;}
.write-review-btn:hover{transform:translateY(-2px);box-shadow:0 6px 18px rgba(102,126,234,.35);}

/* â•â• WISHLIST MODAL â•â• */
.modal-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.52);z-index:2000;align-items:center;justify-content:center;}
.modal-overlay.open{display:flex;}
.modal-box{background:#fff;width:90%;max-width:600px;max-height:87vh;border-radius:18px;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 24px 80px rgba(0,0,0,.25);}
.modal-hdr{background:var(--grad);color:#fff;padding:1.2rem 1.5rem;display:flex;justify-content:space-between;align-items:center;}
.modal-hdr h2{font-family:var(--display);font-size:1.25rem;}
.close-btn{background:none;border:none;color:#fff;font-size:1.4rem;cursor:pointer;line-height:1;opacity:.85;transition:.2s;}
.close-btn:hover{opacity:1;}
.cart-items,.modal-scroll{flex:1;overflow-y:auto;padding:1rem 1.5rem;}
.citem{display:flex;gap:1rem;padding:.85rem 0;border-bottom:1px solid #f0f0f0;align-items:center;}
.citem-img{width:55px;height:55px;border-radius:10px;background:#f0f2f8;display:flex;align-items:center;justify-content:center;font-size:1.8rem;overflow:hidden;flex-shrink:0;}
.citem-img img{width:55px;height:55px;border-radius:10px;object-fit:cover;}
.citem-det{flex:1;min-width:0;}
.citem-name{font-weight:600;color:#2c3e50;font-size:.93rem;}
.citem-price{color:var(--c1);font-weight:700;font-size:.89rem;margin-top:.15rem;}
.qty-ctrl{display:flex;align-items:center;gap:.5rem;margin-top:.3rem;}
.qty-btn{background:var(--c1);color:#fff;border:none;width:25px;height:25px;border-radius:50%;cursor:pointer;font-size:1rem;display:flex;align-items:center;justify-content:center;flex-shrink:0;}
.qty-num{font-weight:700;min-width:22px;text-align:center;}
.remove-btn{background:#ff4757;color:#fff;border:none;padding:.28rem .65rem;border-radius:6px;cursor:pointer;font-size:.78rem;flex-shrink:0;font-family:var(--font);}
.cart-foot{padding:1.2rem 1.5rem;border-top:2px solid #ecf0f1;}
.cart-total-row{display:flex;justify-content:space-between;font-size:1.15rem;font-weight:700;margin-bottom:1rem;}
.wa-btn{width:100%;background:linear-gradient(135deg,#25D366,#128C7E);color:#fff;border:none;padding:.9rem;border-radius:12px;cursor:pointer;font-size:1rem;font-weight:700;font-family:var(--font);display:flex;align-items:center;justify-content:center;gap:.6rem;transition:transform .2s,box-shadow .2s;}
.wa-btn:hover{transform:scale(1.02);box-shadow:0 5px 18px rgba(37,211,102,.35);}
.empty-msg{text-align:center;padding:3rem;color:#bbb;font-size:1rem;}
.empty-msg span{display:block;font-size:3rem;margin-bottom:.8rem;}
/* Wishlist items */
.witem{display:flex;gap:1rem;padding:.85rem 0;border-bottom:1px solid #f0f0f0;align-items:center;}
.witem-img{width:55px;height:55px;border-radius:10px;background:#f0f2f8;display:flex;align-items:center;justify-content:center;font-size:1.8rem;overflow:hidden;flex-shrink:0;}
.witem-img img{width:55px;height:55px;border-radius:10px;object-fit:cover;}
.witem-det{flex:1;}
.witem-name{font-weight:600;color:#2c3e50;font-size:.93rem;}
.witem-price{color:var(--c1);font-weight:700;font-size:.89rem;}
.witem-btns{display:flex;gap:.5rem;margin-top:.4rem;}
.btn-move-cart{background:var(--grad);color:#fff;border:none;padding:.28rem .7rem;border-radius:6px;cursor:pointer;font-size:.76rem;font-family:var(--font);font-weight:600;}
.btn-rm-wish{background:#ff4757;color:#fff;border:none;padding:.28rem .65rem;border-radius:6px;cursor:pointer;font-size:.76rem;font-family:var(--font);}

/* â•â• REVIEW MODAL â•â• */
.rev-modal{background:#fff;width:90%;max-width:500px;border-radius:18px;overflow:hidden;box-shadow:0 24px 80px rgba(0,0,0,.25);}
.rev-modal-body{padding:1.5rem;}
.star-picker{display:flex;gap:.4rem;font-size:1.8rem;margin:.6rem 0 1rem;cursor:pointer;}
.star-picker span{color:#ddd;transition:color .15s;}
.star-picker span.active{color:var(--star);}
.rinput{width:100%;padding:.7rem .9rem;border:2px solid #ecf0f1;border-radius:10px;font-family:var(--font);font-size:.9rem;margin-bottom:.8rem;transition:border .3s;outline:none;}
.rinput:focus{border-color:var(--c1);}
.rselect{width:100%;padding:.7rem .9rem;border:2px solid #ecf0f1;border-radius:10px;font-family:var(--font);font-size:.9rem;margin-bottom:.8rem;outline:none;cursor:pointer;}
.rtextarea{width:100%;min-height:90px;padding:.7rem .9rem;border:2px solid #ecf0f1;border-radius:10px;font-family:var(--font);font-size:.9rem;resize:vertical;outline:none;transition:border .3s;}
.rtextarea:focus{border-color:var(--c1);}
.rev-submit{width:100%;background:var(--grad);color:#fff;border:none;padding:.8rem;border-radius:10px;font-weight:700;font-family:var(--font);font-size:.97rem;cursor:pointer;transition:transform .2s;}
.rev-submit:hover{transform:scale(1.02);}
.rev-foot{display:flex;gap:.6rem;padding:1rem 1.5rem;border-top:1px solid #f0f0f0;}
.rev-cancel{flex:1;background:#f0f2f5;color:#555;border:none;padding:.7rem;border-radius:10px;cursor:pointer;font-family:var(--font);font-weight:600;}

/* â•â• TOAST â•â• */
.toast{position:fixed;top:80px;right:20px;background:#10ac84;color:#fff;padding:.85rem 1.35rem;border-radius:12px;box-shadow:0 5px 20px rgba(0,0,0,.2);z-index:9999;font-weight:600;transform:translateX(300%);transition:transform .35s cubic-bezier(.34,1.56,.64,1);max-width:320px;font-size:.91rem;}
.toast.show{transform:translateX(0);}
.toast.warn{background:#e67e22;}

/* â•â• ADMIN / FOOTER (keep original styles) â•â• */
footer{background:var(--footerBg);color:#fff;padding:2.5rem 1.5rem;margin-top:3rem;}
.ftr-grid{max-width:1260px;margin:0 auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:2rem;}
.ftr-sec h3{margin-bottom:.8rem;color:var(--c1);}
.ftr-sec ul{list-style:none;}
.ftr-sec li{margin-bottom:.4rem;}
.ftr-sec a{color:#bdc3c7;text-decoration:none;}
.ftr-sec a:hover{color:#fff;}
.ftr-bottom{max-width:1260px;margin:1.5rem auto 0;padding-top:1.2rem;border-top:1px solid #2d3748;color:#7f8c8d;text-align:center;font-size:.83rem;}

/* â”€â”€ ADMIN LOGIN â”€â”€ */
#adminLogin{display:none;position:fixed;inset:0;background:var(--grad);z-index:5000;align-items:center;justify-content:center;}
#adminLogin.open{display:flex;}
.login-box{background:#fff;border-radius:20px;padding:2.5rem;width:90%;max-width:400px;box-shadow:0 20px 60px rgba(0,0,0,.3);}
.lhead{text-align:center;margin-bottom:1.5rem;}
.lhead .icon{font-size:3rem;}
.lhead h2{font-family:var(--display);font-size:1.6rem;color:#2c3e50;margin:.3rem 0 .2rem;}
.lhead p{color:#7f8c8d;font-size:.88rem;}
.inp-grp{margin-bottom:1.1rem;}
.inp-grp label{display:block;font-weight:600;color:#555;margin-bottom:.35rem;font-size:.88rem;}
.inp-grp input{width:100%;padding:.75rem 1rem;border:2px solid #ecf0f1;border-radius:10px;font-size:.95rem;transition:border .3s;outline:none;font-family:var(--font);}
.inp-grp input:focus{border-color:var(--c1);}
.login-submit{width:100%;background:var(--grad);color:#fff;border:none;padding:.85rem;border-radius:10px;font-size:1rem;font-weight:700;cursor:pointer;margin-top:.3rem;transition:transform .2s;font-family:var(--font);}
.login-submit:hover{transform:scale(1.02);}
.login-error{color:#ff4757;font-size:.83rem;text-align:center;margin-top:.6rem;display:none;}
.login-back{display:block;text-align:center;margin-top:.9rem;color:var(--c1);cursor:pointer;font-size:.88rem;text-decoration:underline;}

/* â”€â”€ ADMIN PANEL â”€â”€ */
#adminPanel{display:none;position:fixed;inset:0;background:#f0f2f5;z-index:4500;overflow-y:auto;}
#adminPanel.open{display:block;}
.admin-nav{background:var(--grad);color:#fff;position:sticky;top:0;z-index:100;box-shadow:0 2px 12px rgba(0,0,0,.2);}
.admin-nav-inner{max-width:1300px;margin:0 auto;padding:0 1.5rem;display:flex;align-items:center;flex-wrap:wrap;gap:.2rem;}
.admin-logo{font-family:var(--display);font-size:1.1rem;font-weight:700;padding:.9rem .5rem .9rem 0;margin-right:.5rem;white-space:nowrap;}
.atab{padding:.85rem .75rem;color:rgba(255,255,255,.75);cursor:pointer;font-weight:600;border-bottom:3px solid transparent;transition:all .3s;font-size:.85rem;white-space:nowrap;}
.atab:hover,.atab.active{color:#fff;border-bottom-color:#fff;}
.admin-logout{background:rgba(255,255,255,.2);padding:.4rem .9rem;border-radius:25px;cursor:pointer;font-size:.8rem;font-weight:600;border:none;color:#fff;margin-left:auto;font-family:var(--font);}
.admin-logout:hover{background:rgba(255,255,255,.3);}
.admin-body{max-width:1300px;margin:2rem auto;padding:0 1.5rem 3rem;}
.dash-cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(185px,1fr));gap:1.2rem;margin-bottom:2rem;}
.dcard{background:#fff;border-radius:14px;padding:1.2rem;box-shadow:0 3px 10px rgba(0,0,0,.07);display:flex;align-items:center;gap:.9rem;}
.dcard-icon{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.4rem;flex-shrink:0;}
.dcard-info h3{font-size:1.4rem;font-weight:700;color:#2c3e50;}
.dcard-info p{font-size:.8rem;color:#7f8c8d;}
.section-hdr{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.2rem;flex-wrap:wrap;gap:.8rem;}
.section-hdr h2{font-size:1.2rem;color:#2c3e50;font-family:var(--display);}
.btn-add{background:var(--grad);color:#fff;border:none;padding:.52rem 1.2rem;border-radius:10px;cursor:pointer;font-weight:600;font-size:.85rem;font-family:var(--font);}
.table-wrap{background:#fff;border-radius:14px;box-shadow:0 3px 10px rgba(0,0,0,.07);overflow:hidden;overflow-x:auto;}
table{width:100%;border-collapse:collapse;min-width:580px;}
th{background:#f8f9fa;padding:.75rem 1rem;text-align:left;font-size:.76rem;color:#7f8c8d;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid #ecf0f1;white-space:nowrap;}
td{padding:.75rem 1rem;border-bottom:1px solid #f0f0f0;font-size:.86rem;vertical-align:middle;}
tr:last-child td{border-bottom:none;}
tr:hover td{background:#fafbff;}
.stock-badge{padding:.22rem .65rem;border-radius:20px;font-size:.74rem;font-weight:700;white-space:nowrap;}
.in-stock{background:#d4f8e8;color:#1a8a4a;}
.low-stock{background:#fff3cd;color:#856404;}
.out-stock{background:#fde8e8;color:#c0392b;}
.act-btn{padding:.26rem .6rem;border:none;border-radius:6px;cursor:pointer;font-size:.76rem;font-weight:600;margin:0 .1rem;white-space:nowrap;font-family:var(--font);}
.btn-edit{background:#667eea;color:#fff;}
.btn-del{background:#ff4757;color:#fff;}
.thumb{width:40px;height:40px;border-radius:8px;background:#f0f0f0;display:flex;align-items:center;justify-content:center;font-size:1.3rem;overflow:hidden;}
.thumb img{width:40px;height:40px;border-radius:8px;object-fit:cover;}
.admin-search{padding:.5rem .85rem;border:2px solid #ecf0f1;border-radius:10px;font-size:.86rem;width:190px;transition:border .3s;font-family:var(--font);outline:none;}
.admin-search:focus{border-color:var(--c1);}
.settings-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.5rem;}
.settings-card{background:#fff;border-radius:14px;padding:1.5rem;box-shadow:0 3px 10px rgba(0,0,0,.07);}
.settings-card h3{font-size:1rem;font-weight:700;color:#2c3e50;margin-bottom:1.1rem;padding-bottom:.6rem;border-bottom:2px solid #f0f2f5;}
.srow{display:grid;grid-template-columns:1fr 1fr;gap:.8rem;margin-bottom:.8rem;}
.srow.full{grid-template-columns:1fr;}
.sgrp{display:flex;flex-direction:column;gap:.28rem;}
.sgrp label{font-weight:600;font-size:.78rem;color:#666;text-transform:uppercase;letter-spacing:.4px;}
.sgrp input,.sgrp select,.sgrp textarea{padding:.6rem .85rem;border:2px solid #ecf0f1;border-radius:9px;font-size:.88rem;transition:border .3s;font-family:var(--font);width:100%;outline:none;}
.sgrp input:focus,.sgrp select:focus,.sgrp textarea:focus{border-color:var(--c1);}
.sgrp textarea{resize:vertical;min-height:65px;}
.sgrp input[type=color]{padding:.3rem;height:42px;cursor:pointer;}
.color-pair{display:flex;gap:.5rem;align-items:center;}
.color-pair input[type=color]{flex:0 0 42px;}
.color-pair input[type=text]{flex:1;}
.theme-presets{display:flex;gap:.5rem;flex-wrap:wrap;margin-bottom:.8rem;}
.preset-btn{width:36px;height:36px;border-radius:50%;cursor:pointer;border:3px solid transparent;transition:transform .2s,border-color .2s;}
.preset-btn:hover{transform:scale(1.15);}
.preset-btn.selected{border-color:#2c3e50;}
.btn-apply{background:var(--grad);color:#fff;border:none;padding:.65rem 1.5rem;border-radius:10px;cursor:pointer;font-weight:700;font-size:.9rem;transition:transform .2s;font-family:var(--font);}
.btn-apply:hover{transform:scale(1.03);}
.btn-reset-all{background:#ff4757;color:#fff;border:none;padding:.6rem 1.2rem;border-radius:10px;cursor:pointer;font-weight:600;font-size:.85rem;margin-right:.5rem;font-family:var(--font);}
.live-preview{background:linear-gradient(135deg,#f8f9fa,#fff);border:2px solid #ecf0f1;border-radius:12px;padding:1rem;margin-top:.8rem;text-align:center;font-size:.85rem;color:#555;}
.preview-hero{border-radius:10px;padding:1rem;color:#fff;margin-bottom:.5rem;}
.preview-hero h4{font-size:1rem;margin-bottom:.25rem;}
.fmodal-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.55);z-index:6000;align-items:center;justify-content:center;padding:1rem;}
.fmodal-overlay.open{display:flex;}
.fmodal{background:#fff;width:100%;max-width:640px;max-height:92vh;border-radius:16px;overflow:hidden;display:flex;flex-direction:column;}
.fmodal-hdr{background:var(--grad);color:#fff;padding:1rem 1.4rem;display:flex;justify-content:space-between;align-items:center;}
.fmodal-hdr h2{font-family:var(--display);font-size:1.15rem;}
.fmodal-body{flex:1;overflow-y:auto;padding:1.4rem;}
.frow{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem;}
.frow.full{grid-template-columns:1fr;}
.fgrp{display:flex;flex-direction:column;gap:.28rem;}
.fgrp label{font-weight:600;font-size:.8rem;color:#555;}
.fgrp input,.fgrp select,.fgrp textarea{padding:.6rem .85rem;border:2px solid #ecf0f1;border-radius:9px;font-size:.86rem;transition:border .3s;font-family:var(--font);outline:none;}
.fgrp input:focus,.fgrp select:focus,.fgrp textarea:focus{border-color:var(--c1);}
.fgrp textarea{resize:vertical;min-height:65px;}
.img-preview{width:100%;height:120px;background:#f8f9fa;border-radius:9px;border:2px dashed #ddd;display:flex;align-items:center;justify-content:center;overflow:hidden;margin-top:.4rem;}
.img-preview img{max-width:100%;max-height:116px;object-fit:contain;}
.img-placeholder{color:#aaa;font-size:.82rem;text-align:center;padding:.5rem;}
.fmodal-foot{padding:.85rem 1.4rem;border-top:2px solid #ecf0f1;display:flex;gap:.7rem;justify-content:flex-end;}
.btn-cancel{background:#f0f2f5;color:#555;border:none;padding:.6rem 1.2rem;border-radius:9px;cursor:pointer;font-weight:600;font-size:.88rem;font-family:var(--font);}
.btn-save{background:var(--grad);color:#fff;border:none;padding:.6rem 1.4rem;border-radius:9px;cursor:pointer;font-weight:700;font-size:.88rem;font-family:var(--font);}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MOBILE HAMBURGER MENU
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.hamburger{display:none;flex-direction:column;gap:5px;background:none;border:none;cursor:pointer;padding:.4rem;z-index:1000;}
.hamburger span{display:block;width:24px;height:2.5px;background:#fff;border-radius:2px;transition:all .3s;}
.hamburger.open span:nth-child(1){transform:translateY(7.5px) rotate(45deg);}
.hamburger.open span:nth-child(2){opacity:0;}
.hamburger.open span:nth-child(3){transform:translateY(-7.5px) rotate(-45deg);}
.mobile-nav-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:850;backdrop-filter:blur(2px);}
.mobile-nav-overlay.open{display:block;}
.mobile-nav-drawer{position:fixed;top:0;left:-280px;width:280px;height:100vh;background:#fff;z-index:860;transition:left .32s cubic-bezier(.4,0,.2,1);overflow-y:auto;box-shadow:4px 0 24px rgba(0,0,0,.18);}
.mobile-nav-drawer.open{left:0;}
.mobile-nav-header{background:var(--grad);padding:1.4rem 1.2rem;display:flex;align-items:center;gap:.6rem;}
.mobile-nav-header .logo{color:#fff;font-family:var(--display);font-size:1.2rem;font-weight:800;}
.mobile-nav-links{padding:.8rem 0;}
.mobile-nav-links a{display:flex;align-items:center;gap:.8rem;padding:.9rem 1.4rem;color:#2c3e50;text-decoration:none;font-weight:600;font-size:1rem;border-bottom:1px solid #f5f5f5;transition:background .2s;}
.mobile-nav-links a:hover,.mobile-nav-links a:active{background:#f0f2ff;color:var(--c1);}
.mobile-nav-links a .mnav-icon{font-size:1.2rem;width:28px;text-align:center;}
.mobile-nav-bottom{padding:1rem 1.4rem;border-top:2px solid #f0f0f0;display:flex;gap:.6rem;}
.mobile-cart-btn,.mobile-wish-btn{flex:1;padding:.7rem;border-radius:10px;border:none;font-weight:700;font-family:var(--font);cursor:pointer;font-size:.9rem;position:relative;}
.mobile-cart-btn{background:var(--grad);color:#fff;}
.mobile-wish-btn{background:#fff0f2;color:#ff4757;border:2px solid #ffd0d8;}
.mobile-nav-badge{background:#ff4757;color:#fff;border-radius:50%;width:18px;height:18px;font-size:.68rem;display:inline-flex;align-items:center;justify-content:center;margin-left:.3rem;font-weight:700;}

/* â•â• BOTTOM NAV BAR (mobile only) â•â• */
.bottom-nav{display:none;position:fixed;bottom:0;left:0;right:0;background:#fff;z-index:800;box-shadow:0 -2px 16px rgba(0,0,0,.1);padding:.4rem 0 env(safe-area-inset-bottom,.4rem);border-top:1px solid #eee;}
.bottom-nav-inner{display:flex;justify-content:space-around;align-items:center;}
.bnav-item{display:flex;flex-direction:column;align-items:center;gap:.15rem;padding:.35rem .6rem;cursor:pointer;color:#aaa;transition:color .2s;position:relative;border:none;background:none;font-family:var(--font);min-width:52px;}
.bnav-item.active,.bnav-item:active{color:var(--c1);}
.bnav-icon{font-size:1.35rem;line-height:1;}
.bnav-label{font-size:.62rem;font-weight:600;letter-spacing:.3px;}
.bnav-badge{position:absolute;top:2px;right:4px;background:#ff4757;color:#fff;border-radius:50%;width:16px;height:16px;font-size:.6rem;display:flex;align-items:center;justify-content:center;font-weight:700;}
.bnav-wish-badge{background:#f39c12;}

/* Mobile body padding for bottom nav */
.has-bottom-nav body,body.has-bottom-nav{padding-bottom:70px;}

/* â•â• PULL-TO-REFRESH indicator â•â• */
.ptr-indicator{position:fixed;top:0;left:0;right:0;height:0;background:var(--grad);display:flex;align-items:flex-end;justify-content:center;z-index:1500;transition:height .2s;overflow:hidden;}
.ptr-indicator span{color:#fff;font-size:.82rem;padding:.4rem;font-weight:600;}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TABLET â€” max 1024px
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media(max-width:1024px){
  .cat-grid{grid-template-columns:repeat(3,1fr);}
  .gallery-grid{grid-template-columns:repeat(3,1fr);grid-template-rows:200px 200px;}
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TABLET/LANDSCAPE â€” max 900px
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media(max-width:900px){
  .gallery-grid{grid-template-columns:1fr 1fr;grid-template-rows:auto;}
  .gi-tall,.gi-wide{grid-row:auto;grid-column:auto;}
  .cat-grid{grid-template-columns:repeat(3,1fr);}
  .slide-content h1{font-size:2.2rem;}
  .pgrid{grid-template-columns:repeat(auto-fill,minmax(240px,1fr));}
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MOBILE â€” max 768px
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media(max-width:768px){
  /* Show hamburger, hide desktop nav */
  .hamburger{display:flex;}
  nav a, nav .cart-btn, nav .wishlist-btn{display:none;}

  /* Show bottom nav */
  .bottom-nav{display:block;}
  #storefront{padding-bottom:65px;}

  /* Header */
  .hdr{padding:0 1rem;}
  .logo{font-size:1.25rem;}

  /* Hero */
  .hero-cinematic{height:92vh;min-height:500px;}
  .slide-content{padding:1.5rem 1rem;}
  .slide-content h1{font-size:1.65rem;line-height:1.2;}
  .slide-content p{font-size:.9rem;}
  .hero-tagline{font-size:.78rem!important;}
  .hero-btns{gap:.6rem;margin-top:1.2rem;}
  .hbtn{padding:.6rem 1.4rem;font-size:.88rem;}
  .search-hero{margin-top:1.3rem;padding:0 .8rem;}
  .search-wrap input{font-size:16px;} /* prevents iOS zoom on focus */
  .hero-dots{bottom:1.2rem;}
  .harrow{display:none;}
  .scroll-hint{display:none;}
  .slide-badge{font-size:.78rem;padding:.35rem .9rem;}

  /* Why strip */
  .why-strip{padding:.8rem 1rem;overflow-x:auto;}
  .why-inner{flex-nowrap:nowrap;gap:.6rem;justify-content:flex-start;}
  .why-item{flex-shrink:0;padding:.3rem .5rem;}
  .why-icon{font-size:1.4rem;}
  .why-item strong{font-size:.82rem;}
  .why-item p{font-size:.7rem;}

  /* Gallery */
  .gallery-section{margin:2rem auto;padding:0 1rem;}
  .gallery-grid{grid-template-columns:1fr 1fr;gap:8px;}
  .gi-tall,.gi-wide{grid-row:auto;grid-column:auto;}
  .gallery-grid .gallery-item{height:130px;}
  .gallery-header h2,.cat-header h2,.section-title h2{font-size:1.55rem;}

  /* Categories */
  .cat-section{margin:1.5rem auto;padding:0 1rem;}
  .cat-grid{grid-template-columns:repeat(3,1fr);gap:9px;}
  .cat-card{height:155px;}
  .cat-name{font-size:.82rem;}
  .cat-sub{font-size:.66rem;}
  .cat-emoji{font-size:1.6rem;}

  /* Filters */
  .filters-bar{padding:0 1rem;gap:.5rem;overflow-x:auto;flex-wrap:nowrap;-webkit-overflow-scrolling:touch;scrollbar-width:none;}
  .filters-bar::-webkit-scrollbar{display:none;}
  .fbtn{white-space:nowrap;padding:.42rem 1rem;font-size:.82rem;flex-shrink:0;}
  .sort-select{flex-shrink:0;font-size:.82rem;min-width:150px;}
  .results-info{padding:0 1rem;font-size:.78rem;}

  /* Product Grid */
  .container{padding:0 1rem;margin-top:1rem;}
  .pgrid{grid-template-columns:1fr 1fr;gap:1rem;}
  .pcard{border-radius:12px;}
  .pimg{height:160px;}
  .emoji-placeholder{font-size:3.5rem;}
  .pname{font-size:.95rem;margin:.2rem 0;}
  .pdesc{font-size:.78rem;margin-bottom:.5rem;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;}
  .pspecs{gap:.3rem;margin-bottom:.5rem;}
  .spec{font-size:.7rem;padding:.14rem .38rem;}
  .pinfo{padding:.85rem .8rem;}
  .pcat{font-size:.7rem;}
  .price-block .final{font-size:1.1rem;}
  .price-block .orig{font-size:.75rem;}
  .price-block .saving{font-size:.68rem;}
  .atc{padding:.46rem .85rem;font-size:.78rem;}
  .pfoot{padding-top:.6rem;}
  .star-row{gap:.25rem;margin-bottom:.5rem;}
  .stars,.stars-empty{font-size:.78rem;}
  .review-count{font-size:.68rem;}
  .wish-btn{width:28px;height:28px;font-size:.9rem;top:7px;right:7px;}
  .pbadge{font-size:.66rem;padding:.18rem .5rem;right:38px;}
  .disc-badge{font-size:.66rem;padding:.18rem .5rem;}

  /* Modals */
  .modal-box{width:100%;max-width:100%;border-radius:20px 20px 0 0;max-height:90vh;position:fixed;bottom:0;left:0;right:0;}
  .modal-overlay.open{align-items:flex-end;}
  .rev-modal{width:100%;border-radius:20px 20px 0 0;max-height:90vh;overflow-y:auto;}
  .modal-hdr{padding:1rem 1.2rem;}
  .modal-hdr h2{font-size:1.1rem;}
  .cart-items,.modal-scroll{padding:.8rem 1rem;}
  .cart-foot{padding:.9rem 1rem;}
  .wa-btn{font-size:.92rem;padding:.78rem;}
  .cart-total-row{font-size:1rem;}
  .citem{gap:.7rem;}
  .citem-img{width:46px;height:46px;}
  .citem-name{font-size:.85rem;}
  .citem-price{font-size:.82rem;}

  /* Reviews */
  .reviews-section{padding:0 1rem;margin:2rem auto;}
  .reviews-grid{grid-template-columns:1fr;gap:1rem;}
  .rcard{padding:1.1rem;}
  .rtext{font-size:.84rem;}
  .write-review-btn{font-size:.85rem;padding:.55rem 1.1rem;}

  /* Review modal */
  .fmodal-overlay{padding:0;}
  .fmodal{border-radius:20px 20px 0 0;max-height:92vh;position:fixed;bottom:0;left:0;right:0;width:100%;max-width:100%;}
  .frow{grid-template-columns:1fr;}
  .srow{grid-template-columns:1fr;}
  .settings-grid{grid-template-columns:1fr;}
  .rinput,.rselect,.rtextarea{font-size:16px;} /* no iOS zoom */

  /* Footer */
  footer{padding:1.8rem 1rem;margin-top:0;}
  .ftr-grid{gap:1.2rem;}
  .ftr-bottom{font-size:.78rem;}

  /* Admin panel mobile */
  .admin-nav-inner{overflow-x:auto;flex-wrap:nowrap;-webkit-overflow-scrolling:touch;}
  .atab{flex-shrink:0;padding:.8rem .6rem;font-size:.8rem;}
  .admin-logo{flex-shrink:0;}
  .admin-body{padding:0 .8rem 4rem;}
  .dash-cards{grid-template-columns:1fr 1fr;gap:.8rem;}
  .dcard{padding:.9rem;gap:.6rem;}
  .dcard-icon{width:40px;height:40px;font-size:1.15rem;}
  .dcard-info h3{font-size:1.15rem;}
  table{font-size:.78rem;}
  th,td{padding:.55rem .7rem;}
  .inp-grp input,.fgrp input,.fgrp select,.fgrp textarea,.sgrp input,.sgrp select,.sgrp textarea{font-size:16px;}
  .login-box{padding:1.8rem 1.2rem;border-radius:16px;}
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SMALL PHONES â€” max 480px
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media(max-width:480px){
  .pgrid{grid-template-columns:1fr 1fr;gap:.75rem;}
  .cat-grid{grid-template-columns:repeat(2,1fr);}
  .cat-card{height:135px;}
  .slide-content h1{font-size:1.45rem;}
  .gallery-grid{grid-template-columns:1fr 1fr;gap:6px;}
  .gallery-grid .gallery-item{height:110px;}
  .hbtn{padding:.55rem 1.1rem;font-size:.82rem;}
  .dash-cards{grid-template-columns:1fr 1fr;}
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   VERY SMALL PHONES â€” max 360px
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media(max-width:360px){
  .pgrid{grid-template-columns:1fr;}
  .pimg{height:200px;}
  .emoji-placeholder{font-size:5rem;}
  .slide-content h1{font-size:1.3rem;}
  .cat-grid{grid-template-columns:repeat(2,1fr);}
}

/* â•â• TOUCH RIPPLE â•â• */
.atc,.hbtn,.fbtn,.cat-card,.pcard,.wish-btn,.write-review-btn{-webkit-tap-highlight-color:rgba(102,126,234,.15);tap-highlight-color:rgba(102,126,234,.15);}
button,a{-webkit-tap-highlight-color:transparent;}

/* â•â• SMOOTH SCROLL & SAFE AREAS â•â• */
html{scroll-behavior:smooth;-webkit-overflow-scrolling:touch;}
.modal-box,.rev-modal,.fmodal{padding-bottom:env(safe-area-inset-bottom,0);}
.bottom-nav{padding-bottom:env(safe-area-inset-bottom,4px);}

/* â•â• PREVENT TEXT SELECT ON BUTTONS â•â• */
button,.cat-card,.gallery-item,.atab,.bnav-item{user-select:none;-webkit-user-select:none;}

/* â•â• SWIPE HINT â•â• */
.swipe-hint{text-align:center;color:#bbb;font-size:.72rem;padding:.3rem 0;display:none;}
@media(max-width:768px){.swipe-hint{display:block;}}
</style>
</head>
<body>

<div id="storefront">
<header>
  <div class="hdr">
    <div class="logo" id="siteLogoEl">ğŸš´ Popular Cycle Mart</div>
    <nav>
      <a href="#" id="navHome">Home</a>
      <a href="#products" id="navShop">Shop</a>
      <a href="#reviews-section">Reviews</a>
      <a href="#footer" id="navContact">Contact</a>
      <a href="#" onclick="openAdminLogin(event)" style="font-size:.82rem;opacity:.75;">ğŸ” Admin</a>
      <button class="wishlist-btn" onclick="openWishlist()">â¤ï¸ Wishlist <span class="badge" id="wishCount">0</span></button>
      <button class="cart-btn" onclick="openCart()">ğŸ›’ Cart <span class="badge" id="cartCount">0</span></button>
    </nav>
    <!-- Hamburger for mobile -->
    <button class="hamburger" id="hamburgerBtn" onclick="toggleMobileNav()" aria-label="Menu">
      <span></span><span></span><span></span>
    </button>
  </div>
</header>

<!-- MOBILE NAV OVERLAY -->
<div class="mobile-nav-overlay" id="mobileNavOverlay" onclick="closeMobileNav()"></div>

<!-- MOBILE NAV DRAWER -->
<div class="mobile-nav-drawer" id="mobileNavDrawer">
  <div class="mobile-nav-header">
    <div class="logo" style="color:#fff;font-family:var(--display);font-size:1.15rem;font-weight:800;">ğŸš´ Popular Cycle Mart</div>
  </div>
  <div class="mobile-nav-links">
    <a href="#" onclick="closeMobileNav()"><span class="mnav-icon">ğŸ </span> Home</a>
    <a href="#products" onclick="closeMobileNav()"><span class="mnav-icon">ğŸš´</span> Shop Bikes</a>
    <a href="#gallery" onclick="closeMobileNav()"><span class="mnav-icon">ğŸ–¼ï¸</span> Gallery</a>
    <a href="#reviews-section" onclick="closeMobileNav()"><span class="mnav-icon">â­</span> Reviews</a>
    <a href="#footer" onclick="closeMobileNav()"><span class="mnav-icon">ğŸ“</span> Contact Us</a>
    <a href="#" onclick="closeMobileNav();openAdminLogin(event)"><span class="mnav-icon">ğŸ”</span> Admin Login</a>
  </div>
  <div class="mobile-nav-bottom">
    <button class="mobile-wish-btn" onclick="closeMobileNav();openWishlist()">â¤ï¸ Wishlist <span class="mobile-nav-badge" id="mWishCount" style="background:#f39c12;">0</span></button>
    <button class="mobile-cart-btn" onclick="closeMobileNav();openCart()">ğŸ›’ Cart <span class="mobile-nav-badge" id="mCartCount">0</span></button>
  </div>
</div>

<!-- BOTTOM NAV BAR (mobile) -->
<div class="bottom-nav" id="bottomNav">
  <div class="bottom-nav-inner">
    <button class="bnav-item active" id="bnav-home" onclick="scrollToTop();setActiveNav('bnav-home')">
      <span class="bnav-icon">ğŸ </span>
      <span class="bnav-label">Home</span>
    </button>
    <button class="bnav-item" id="bnav-shop" onclick="document.getElementById('products').scrollIntoView({behavior:'smooth'});setActiveNav('bnav-shop')">
      <span class="bnav-icon">ğŸš´</span>
      <span class="bnav-label">Shop</span>
    </button>
    <button class="bnav-item" id="bnav-search" onclick="focusSearch();setActiveNav('bnav-search')">
      <span class="bnav-icon">ğŸ”</span>
      <span class="bnav-label">Search</span>
    </button>
    <button class="bnav-item" id="bnav-wish" onclick="openWishlist();setActiveNav('bnav-wish')">
      <span class="bnav-icon">â¤ï¸</span>
      <span class="bnav-label">Wishlist</span>
      <span class="bnav-badge bnav-wish-badge" id="bnavWishCount" style="display:none;">0</span>
    </button>
    <button class="bnav-item" id="bnav-cart" onclick="openCart();setActiveNav('bnav-cart')">
      <span class="bnav-icon">ğŸ›’</span>
      <span class="bnav-label">Cart</span>
      <span class="bnav-badge" id="bnavCartCount" style="display:none;">0</span>
    </button>
  </div>
</div>
<section class="hero-cinematic" id="heroSection">
  <div class="hero-slides" id="heroSlides">
    <div class="hero-slide active" style="background-image:url('https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=1600&q=80')">
      <div class="slide-overlay"></div>
      <div class="slide-content">
        <div class="slide-badge">ğŸ† #1 Cycle Store in India</div>
        <h1 id="heroTitle">ğŸš´ Welcome to Popular Cycle Mart</h1>
        <p id="heroSubtitle">Discover Your Perfect Ride â€” Premium Bikes for Every Journey</p>
        <p class="hero-tagline" id="heroTagline">Free delivery across India | Easy Returns | 1 Year Warranty</p>
        <!-- SEARCH BAR IN HERO -->
        <div class="search-hero">
          <div class="search-wrap">
            <span class="search-icon">ğŸ”</span>
            <input type="text" id="heroSearch" placeholder="Search bikes by name, category..." oninput="onHeroSearch(this.value)" autocomplete="off">
            <button class="search-clear" id="searchClearBtn" onclick="clearSearch()">âœ•</button>
          </div>
          <div class="search-results-count" id="searchResultsInfo"></div>
        </div>
        <div class="hero-btns">
          <a href="#products" class="hbtn hbtn-primary">Shop Now ğŸš´</a>
          <a href="#gallery" class="hbtn hbtn-outline">View Gallery</a>
        </div>
      </div>
    </div>
    <div class="hero-slide" style="background-image:url('https://images.unsplash.com/photo-1541625602330-2277a4c46182?w=1600&q=80')">
      <div class="slide-overlay"></div>
      <div class="slide-content">
        <div class="slide-badge">âš¡ Electric Bikes Available</div>
        <h1>Ride the Future</h1>
        <p>Powerful electric cycles for the modern commuter</p>
        <p class="hero-tagline">Zero emissions Â· Effortless riding Â· Smart technology</p>
        <div class="hero-btns"><a href="#products" class="hbtn hbtn-primary">Explore Electric</a></div>
      </div>
    </div>
    <div class="hero-slide" style="background-image:url('https://images.unsplash.com/photo-1485965120184-e220f721d03e?w=1600&q=80')">
      <div class="slide-overlay"></div>
      <div class="slide-content">
        <div class="slide-badge">ğŸšµ Trail Ready</div>
        <h1>Conquer Every Trail</h1>
        <p>Mountain bikes built for the toughest terrains</p>
        <p class="hero-tagline">Suspension forks Â· Disc brakes Â· Full-grip tyres</p>
        <div class="hero-btns"><a href="#products" class="hbtn hbtn-primary">Shop Mountain Bikes</a></div>
      </div>
    </div>
  </div>
  <div class="hero-dots">
    <span class="hdot active" onclick="goSlide(0)"></span>
    <span class="hdot" onclick="goSlide(1)"></span>
    <span class="hdot" onclick="goSlide(2)"></span>
  </div>
  <button class="harrow harrow-l" onclick="shiftSlide(-1)">&#8249;</button>
  <button class="harrow harrow-r" onclick="shiftSlide(1)">&#8250;</button>
  <div class="scroll-hint">â†“ Explore Bikes</div>
</section>

<!-- WHY STRIP -->
<div class="why-strip">
  <div class="why-inner">
    <div class="why-item"><span class="why-icon">ğŸšš</span><div><strong>Free Delivery</strong><p>Pan India shipping</p></div></div>
    <div class="why-item"><span class="why-icon">ğŸ”§</span><div><strong>Free Service</strong><p>First 3 services free</p></div></div>
    <div class="why-item"><span class="why-icon">ğŸ›¡ï¸</span><div><strong>1 Year Warranty</strong><p>On all cycles</p></div></div>
    <div class="why-item"><span class="why-icon">â†©ï¸</span><div><strong>Easy Returns</strong><p>7-day no-hassle return</p></div></div>
    <div class="why-item"><span class="why-icon">ğŸ’¬</span><div><strong>WhatsApp Support</strong><p>Order & track instantly</p></div></div>
  </div>
</div>

<!-- GALLERY -->
<section class="gallery-section" id="gallery">
  <div class="gallery-header">
    <h2>ğŸŒ„ Life on Two Wheels</h2>
    <p>Every ride tells a story â€” discover the joy of cycling</p>
  </div>
  <div class="gallery-grid">
    <div class="gallery-item gi-tall" style="background-image:url('https://images.unsplash.com/photo-1544191696-102dbdaeeaa0?w=800&q=80')"><div class="gi-overlay"><span>Mountain Adventure</span></div></div>
    <div class="gallery-item" style="background-image:url('https://images.unsplash.com/photo-1571068316344-75bc76f77890?w=800&q=80')"><div class="gi-overlay"><span>Road Freedom</span></div></div>
    <div class="gallery-item" style="background-image:url('https://images.unsplash.com/photo-1532298229144-0ec0c57515c7?w=800&q=80')"><div class="gi-overlay"><span>City Cruising</span></div></div>
    <div class="gallery-item gi-wide" style="background-image:url('https://images.unsplash.com/photo-1622385644843-e20ae756e9b0?w=1000&q=80')"><div class="gi-overlay"><span>Family Rides</span></div></div>
    <div class="gallery-item" style="background-image:url('https://images.unsplash.com/photo-1507035895480-2b3156c31fc8?w=800&q=80')"><div class="gi-overlay"><span>Sunset Trails</span></div></div>
    <div class="gallery-item" style="background-image:url('https://images.unsplash.com/photo-1517649763962-0c623066013b?w=800&q=80')"><div class="gi-overlay"><span>Competitive Racing</span></div></div>
  </div>
</section>

<!-- CATEGORY CARDS -->
<section class="cat-section">
  <div class="cat-header"><h2>ğŸš´ Shop By Category</h2><p>Find the perfect bike for your riding style</p></div>
  <div class="cat-grid">
    <div class="cat-card" onclick="jumpCat('mountain')" style="background-image:url('https://images.unsplash.com/photo-1544191696-102dbdaeeaa0?w=600&q=80')"><div class="cat-overlay"><div class="cat-emoji">ğŸšµ</div><div class="cat-name">Mountain Bikes</div><div class="cat-sub">Off-road & trails</div></div></div>
    <div class="cat-card" onclick="jumpCat('road')" style="background-image:url('https://images.unsplash.com/photo-1571068316344-75bc76f77890?w=600&q=80')"><div class="cat-overlay"><div class="cat-emoji">ğŸš´</div><div class="cat-name">Road Bikes</div><div class="cat-sub">Speed & endurance</div></div></div>
    <div class="cat-card" onclick="jumpCat('electric')" style="background-image:url('https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=600&q=80')"><div class="cat-overlay"><div class="cat-emoji">âš¡</div><div class="cat-name">Electric Bikes</div><div class="cat-sub">Smart & effortless</div></div></div>
    <div class="cat-card" onclick="jumpCat('hybrid')" style="background-image:url('https://images.unsplash.com/photo-1532298229144-0ec0c57515c7?w=600&q=80')"><div class="cat-overlay"><div class="cat-emoji">ğŸš²</div><div class="cat-name">Hybrid Bikes</div><div class="cat-sub">City & leisure</div></div></div>
    <div class="cat-card" onclick="jumpCat('kids')" style="background-image:url('https://images.unsplash.com/photo-1622385644843-e20ae756e9b0?w=600&q=80')"><div class="cat-overlay"><div class="cat-emoji">ğŸ§’</div><div class="cat-name">Kids Bikes</div><div class="cat-sub">Safe & fun</div></div></div>
  </div>
</section>

<!-- FILTERS -->
<div class="filters-bar" id="products">
  <button class="fbtn active" onclick="filterCat('all',this)">All Bikes</button>
  <button class="fbtn" onclick="filterCat('mountain',this)">ğŸšµ Mountain</button>
  <button class="fbtn" onclick="filterCat('road',this)">ğŸš´ Road</button>
  <button class="fbtn" onclick="filterCat('hybrid',this)">ğŸš² Hybrid</button>
  <button class="fbtn" onclick="filterCat('electric',this)">âš¡ Electric</button>
  <button class="fbtn" onclick="filterCat('kids',this)">ğŸ§’ Kids</button>
  <select class="sort-select" id="sortSelect" onchange="renderShop()">
    <option value="default">Sort: Default</option>
    <option value="price-asc">Price: Low to High</option>
    <option value="price-desc">Price: High to Low</option>
    <option value="discount">Most Discounted</option>
    <option value="rating">Top Rated</option>
    <option value="name">Name Aâ€“Z</option>
  </select>
</div>
<div class="results-info" id="resultsInfo"></div>

<div class="container">
  <div class="pgrid" id="shopGrid"></div>
</div>

<!-- REVIEWS SECTION -->
<section class="reviews-section" id="reviews-section">
  <div class="section-title">
    <h2>â­ Customer Reviews</h2>
    <p>What our riders are saying</p>
  </div>
  <div style="text-align:center;">
    <button class="write-review-btn" onclick="openReviewModal()">âœï¸ Write a Review</button>
  </div>
  <div class="reviews-grid" id="reviewsGrid"></div>
</section>

<footer id="footer">
  <div class="ftr-grid">
    <div class="ftr-sec">
      <h3 id="ftLogoText">Popular Cycle Mart</h3>
      <p style="color:#bdc3c7;font-size:.88rem;line-height:1.7;" id="ftAbout">Your trusted partner for premium bicycles. Quality, performance and style for every ride.</p>
    </div>
    <div class="ftr-sec">
      <h3>Quick Links</h3>
      <ul><li><a href="#">Products</a></li><li><a href="#">Shipping</a></li><li><a href="#">Warranty</a></li><li><a href="#">Returns</a></li></ul>
    </div>
    <div class="ftr-sec">
      <h3>Customer Service</h3>
      <ul><li><a href="#">Contact Us</a></li><li><a href="#">FAQ</a></li><li><a href="#">Track Order</a></li><li><a href="#">Support</a></li></ul>
    </div>
    <div class="ftr-sec">
      <h3>Contact Info</h3>
      <p id="ftContact" style="color:#bdc3c7;line-height:2;font-size:.88rem;">ğŸ“§ <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1970777f76596976696c75786b7a607a757c74786b6d377a7674">[email&#160;protected]</a><br>ğŸ“± +91 90207 00070<br>ğŸ“ India</p>
    </div>
  </div>
  <div class="ftr-bottom" id="ftCopyright">Â© 2026 Popular Cycle Mart. All rights reserved.</div>
</footer>
</div>

<!-- CART MODAL -->
<div class="modal-overlay" id="cartModal">
  <div class="modal-box">
    <div class="modal-hdr"><h2>ğŸ›’ Your Cart</h2><button class="close-btn" onclick="closeCart()">âœ•</button></div>
    <div class="cart-items" id="cartItemsList"></div>
    <div class="cart-foot">
      <div class="cart-total-row"><span>Total:</span><span id="cartTotal">â‚¹0</span></div>
      <button class="wa-btn" onclick="sendWhatsApp()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="white"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
        Send Order via WhatsApp
      </button>
    </div>
  </div>
</div>

<!-- WISHLIST MODAL -->
<div class="modal-overlay" id="wishlistModal">
  <div class="modal-box">
    <div class="modal-hdr"><h2>â¤ï¸ My Wishlist</h2><button class="close-btn" onclick="closeWishlist()">âœ•</button></div>
    <div class="modal-scroll" id="wishlistItems"></div>
  </div>
</div>

<!-- REVIEW MODAL -->
<div class="modal-overlay" id="reviewModal">
  <div class="rev-modal">
    <div class="modal-hdr"><h2>âœï¸ Write a Review</h2><button class="close-btn" onclick="closeReviewModal()">âœ•</button></div>
    <div class="rev-modal-body">
      <label style="font-weight:600;font-size:.85rem;color:#555;">Your Name</label>
      <input class="rinput" id="rName" placeholder="e.g. Rahul S.">
      <label style="font-weight:600;font-size:.85rem;color:#555;">Product</label>
      <select class="rselect" id="rProduct"></select>
      <label style="font-weight:600;font-size:.85rem;color:#555;">Rating</label>
      <div class="star-picker" id="starPicker">
        <span onclick="setRevStar(1)">â˜…</span>
        <span onclick="setRevStar(2)">â˜…</span>
        <span onclick="setRevStar(3)">â˜…</span>
        <span onclick="setRevStar(4)">â˜…</span>
        <span onclick="setRevStar(5)">â˜…</span>
      </div>
      <label style="font-weight:600;font-size:.85rem;color:#555;">Your Review</label>
      <textarea class="rtextarea" id="rText" placeholder="Share your experience..."></textarea>
      <button class="rev-submit" onclick="submitReview()">Submit Review â­</button>
    </div>
  </div>
</div>

<!-- ADMIN LOGIN -->
<div id="adminLogin">
  <div class="login-box">
    <div class="lhead"><div class="icon">ğŸ”</div><h2>Admin Login</h2><p>Popular Cycle Mart Management Portal</p></div>
    <div class="inp-grp"><label>Username</label><input type="text" id="loginUser" placeholder="Enter username" onkeydown="if(event.key==='Enter')doLogin()"></div>
    <div class="inp-grp"><label>Password</label><input type="password" id="loginPass" placeholder="Enter password" onkeydown="if(event.key==='Enter')doLogin()"></div>
    <button class="login-submit" onclick="doLogin()">Login to Dashboard</button>
    <div class="login-error" id="loginErr">âŒ Invalid username or password</div>
    <span class="login-back" onclick="closeAdminLogin()">â† Back to Shop</span>
  </div>
</div>

<!-- ADMIN PANEL -->
<div id="adminPanel">
  <nav class="admin-nav">
    <div class="admin-nav-inner">
      <div class="admin-logo">âš™ï¸ Admin â€” Popular Cycle Mart</div>
      <div class="atab active" onclick="showTab('dashboard',this)">ğŸ“Š Dashboard</div>
      <div class="atab" onclick="showTab('products',this)">ğŸš´ Products</div>
      <div class="atab" onclick="showTab('stock',this)">ğŸ“¦ Stock</div>
      <div class="atab" onclick="showTab('discounts',this)">ğŸ·ï¸ Discounts</div>
      <div class="atab" onclick="showTab('reviews',this)">â­ Reviews</div>
      <div class="atab" onclick="showTab('settings',this)">ğŸ¨ Settings</div>
      <button class="admin-logout" onclick="adminLogout()">ğŸšª Logout</button>
    </div>
  </nav>
  <div class="admin-body">
    <div id="tab-dashboard"></div>
    <div id="tab-products" style="display:none;"></div>
    <div id="tab-stock" style="display:none;"></div>
    <div id="tab-discounts" style="display:none;"></div>
    <div id="tab-reviews" style="display:none;"></div>
    <div id="tab-settings" style="display:none;"></div>
  </div>
</div>

<!-- PRODUCT FORM MODAL -->
<div class="fmodal-overlay" id="productFormModal">
  <div class="fmodal">
    <div class="fmodal-hdr"><h2 id="formTitle">Add New Product</h2><button class="close-btn" onclick="closeProductForm()">âœ•</button></div>
    <div class="fmodal-body">
      <input type="hidden" id="fId">
      <div class="frow">
        <div class="fgrp"><label>Product Name *</label><input id="fName" placeholder="e.g. Hero Sprint Pro 29T"></div>
        <div class="fgrp"><label>Category *</label><select id="fCat"><option value="mountain">Mountain</option><option value="road">Road</option><option value="hybrid">Hybrid</option><option value="electric">Electric</option><option value="kids">Kids</option></select></div>
      </div>
      <div class="frow full"><div class="fgrp"><label>Description</label><textarea id="fDesc" placeholder="Short description..."></textarea></div></div>
      <div class="frow">
        <div class="fgrp"><label>Price (â‚¹) *</label><input id="fPrice" type="number" placeholder="e.g. 18999"></div>
        <div class="fgrp"><label>Discount (%)</label><input id="fDiscount" type="number" min="0" max="90" placeholder="e.g. 10"></div>
      </div>
      <div class="frow">
        <div class="fgrp"><label>Stock Quantity *</label><input id="fStock" type="number" placeholder="e.g. 15"></div>
        <div class="fgrp"><label>Badge Label</label><input id="fBadge" placeholder="e.g. Bestseller, New, Hot"></div>
      </div>
      <div class="frow">
        <div class="fgrp"><label>Spec 1</label><input id="fSpec1" placeholder='e.g. 29" wheels'></div>
        <div class="fgrp"><label>Spec 2</label><input id="fSpec2" placeholder="e.g. 21-speed Shimano"></div>
      </div>
      <div class="frow">
        <div class="fgrp"><label>Spec 3</label><input id="fSpec3" placeholder="e.g. Front suspension"></div>
        <div class="fgrp"><label>Emoji Icon</label><input id="fIcon" placeholder="e.g. ğŸšµ"></div>
      </div>
      <div class="frow full"><div class="fgrp"><label>Product Image URL</label><input id="fImg" placeholder="https://example.com/image.jpg" oninput="previewImg()"><div class="img-preview" id="imgPreview"><div class="img-placeholder">ğŸ–¼ï¸<br>Paste image URL above to preview</div></div></div></div>
    </div>
    <div class="fmodal-foot">
      <button class="btn-cancel" onclick="closeProductForm()">Cancel</button>
      <button class="btn-save" onclick="saveProduct()">ğŸ’¾ Save Product</button>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SETTINGS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var DEFAULT_SETTINGS={siteName:'Popular Cycle Mart',siteTagline:'Your Ride, Your Way',logoEmoji:'ğŸš´',heroTitle:'ğŸš´ Welcome to Popular Cycle Mart',heroSubtitle:'Discover Your Perfect Ride â€” Premium Bikes for Every Journey',heroTagline:'Free delivery across India | Easy Returns | 1 Year Warranty',navHome:'Home',navShop:'Shop',navContact:'Contact',color1:'#667eea',color2:'#764ba2',footerBg:'#1a1a2e',font:"'DM Sans', sans-serif",ftAbout:'Your trusted partner for premium bicycles. Quality, performance and style for every ride.',ftCopyright:'Â© 2026 Popular Cycle Mart. All rights reserved.',contactEmail:'info@popularcyclemart.com',contactPhone:'+91 90207 00070',contactAddress:'India',whatsapp:'919020700070',metaTitle:'Popular Cycle Mart'};
var THEME_PRESETS=[{name:'Purple',c1:'#667eea',c2:'#764ba2'},{name:'Blue',c1:'#2196F3',c2:'#0D47A1'},{name:'Green',c1:'#11998e',c2:'#38ef7d'},{name:'Orange',c1:'#f46b45',c2:'#eea849'},{name:'Red',c1:'#c0392b',c2:'#8e44ad'},{name:'Teal',c1:'#0f9b8e',c2:'#005c97'},{name:'Pink',c1:'#f953c6',c2:'#b91d73'},{name:'Dark',c1:'#2c3e50',c2:'#3498db'}];
var FONT_OPTIONS=[{label:"DM Sans (Default)",val:"'DM Sans', sans-serif"},{label:"Roboto",val:"'Roboto', sans-serif"},{label:"Georgia (Serif)",val:"Georgia, serif"},{label:"Arial",val:"Arial, sans-serif"},{label:"Verdana",val:"Verdana, sans-serif"},{label:"Trebuchet MS",val:"'Trebuchet MS', sans-serif"},{label:"Courier New (Mono)",val:"'Courier New', monospace"}];
var siteSettings=JSON.parse(localStorage.getItem('pcm_settings')||'null')||Object.assign({},DEFAULT_SETTINGS);
function saveSettings(){localStorage.setItem('pcm_settings',JSON.stringify(siteSettings));}
function applySettingsToPage(){
  var s=siteSettings;
  document.documentElement.style.setProperty('--c1',s.color1);
  document.documentElement.style.setProperty('--c2',s.color2);
  document.documentElement.style.setProperty('--grad','linear-gradient(135deg,'+s.color1+','+s.color2+')');
  document.documentElement.style.setProperty('--font',s.font);
  document.documentElement.style.setProperty('--footerBg',s.footerBg);
  document.getElementById('siteTitle').textContent=s.metaTitle||s.siteName;
  document.getElementById('siteLogoEl').textContent=(s.logoEmoji||'')+' '+s.siteName;
  document.getElementById('heroTitle').textContent=s.heroTitle;
  document.getElementById('heroSubtitle').textContent=s.heroSubtitle;
  document.getElementById('heroTagline').textContent=s.heroTagline;
  document.getElementById('navHome').textContent=s.navHome;
  document.getElementById('navShop').textContent=s.navShop;
  document.getElementById('navContact').textContent=s.navContact;
  document.getElementById('ftLogoText').textContent=s.siteName;
  document.getElementById('ftAbout').textContent=s.ftAbout;
  document.getElementById('ftCopyright').textContent=s.ftCopyright;
  document.getElementById('ftContact').innerHTML='ğŸ“§ '+s.contactEmail+'<br>ğŸ“± '+s.contactPhone+'<br>ğŸ“ '+s.contactAddress;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PRODUCTS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var DEFAULT_PRODUCTS=[
  {id:1,name:"Hero Sprint Pro 29T",category:"mountain",price:18999,discount:0,stock:12,icon:"ğŸšµ",description:"21-speed mountain bike with front suspension for off-road adventures",specs:['29" wheels','21-speed Shimano','Front suspension'],badge:"Bestseller",image:""},
  {id:2,name:"Firefox Rapide 700C",category:"road",price:24999,discount:10,stock:8,icon:"ğŸš´",description:"Lightweight road bike with carbon fork for speed enthusiasts",specs:['700c wheels','14-speed','Carbon fork'],badge:"New",image:""},
  {id:3,name:"Hero Lectro C5i",category:"electric",price:32999,discount:5,stock:5,icon:"âš¡",description:"Electric cycle with lithium-ion battery and 25km range",specs:['250W motor','36V battery','25km range'],badge:"Hot",image:""},
  {id:4,name:"Montra Blues 1.1",category:"hybrid",price:15999,discount:0,stock:20,icon:"ğŸš²",description:"Perfect hybrid bike for city commuting and weekend rides",specs:['700c wheels','7-speed','Comfort saddle'],badge:"",image:""},
  {id:5,name:"Giant Talon 29er",category:"mountain",price:42999,discount:8,stock:4,icon:"ğŸšµ",description:"Premium mountain bike with hydraulic disc brakes",specs:['29" wheels','24-speed','Hydraulic disc'],badge:"Premium",image:""},
  {id:6,name:"Trek Domane AL 2",category:"road",price:54999,discount:0,stock:3,icon:"ğŸš´",description:"Endurance road bike with aluminum frame for long rides",specs:['700c wheels','16-speed','Aluminum frame'],badge:"",image:""},
  {id:7,name:"Hero Lectro F2",category:"electric",price:28999,discount:12,stock:7,icon:"âš¡",description:"Foldable electric bike perfect for urban commuters",specs:['250W motor','Foldable','30km range'],badge:"Smart",image:""},
  {id:8,name:"Firefox Bike Viper",category:"kids",price:7999,discount:0,stock:18,icon:"ğŸ§’",description:"Safe and sturdy bike for kids aged 5-8 years",specs:['20" wheels','Single speed','Training wheels'],badge:"Safe",image:""},
  {id:9,name:"Btwin Rockrider ST 100",category:"mountain",price:21999,discount:0,stock:10,icon:"ğŸšµ",description:"Value mountain bike with 21-speed gears for trails",specs:['27.5" wheels','21-speed','V-brakes'],badge:"",image:""},
  {id:10,name:"Hercules Top Gear A75",category:"hybrid",price:12999,discount:15,stock:25,icon:"ğŸš²",description:"Reliable hybrid cycle for daily city commuting",specs:['26" wheels','7-speed','Steel frame'],badge:"",image:""},
  {id:11,name:"EMotorad X3",category:"electric",price:45999,discount:0,stock:6,icon:"âš¡",description:"Fat tire electric bike with 50km range",specs:['500W motor','Fat tires','50km range'],badge:"Bestseller",image:""},
  {id:12,name:"Hero Disney Princess",category:"kids",price:6999,discount:5,stock:15,icon:"ğŸ§’",description:"Colorful bike for young girls with safety features",specs:['16" wheels','Single speed','Basket included'],badge:"",image:""},
  {id:13,name:"Cannondale Quick 4",category:"hybrid",price:38999,discount:0,stock:2,icon:"ğŸš²",description:"Premium hybrid with disc brakes and smooth ride",specs:['700c wheels','9-speed','Disc brakes'],badge:"Premium",image:""},
  {id:14,name:"Scott Speedster 40",category:"road",price:62999,discount:7,stock:3,icon:"ğŸš´",description:"Professional racing bike with Shimano components",specs:['700c wheels','20-speed','Carbon fork'],badge:"New",image:""},
  {id:15,name:"Tata Stryder MTB",category:"mountain",price:16999,discount:0,stock:9,icon:"ğŸšµ",description:"Durable mountain bike for Indian terrain",specs:['26" wheels','18-speed','Front suspension'],badge:"",image:""},
  {id:16,name:"BSA Ladybird Champ",category:"kids",price:5499,discount:0,stock:22,icon:"ğŸ§’",description:"Entry-level bike for beginners aged 3-5 years",specs:['14" wheels','Single speed','Safety pads'],badge:"Budget",image:""},
  {id:17,name:"Hero Lectro Kinza",category:"electric",price:36999,discount:10,stock:8,icon:"âš¡",description:"Stylish electric bike with removable battery",specs:['350W motor','Removable battery','40km range'],badge:"",image:""},
  {id:18,name:"Firefox Road Runner",category:"road",price:19999,discount:0,stock:11,icon:"ğŸš´",description:"Affordable road bike for fitness enthusiasts",specs:['700c wheels','14-speed','Lightweight'],badge:"Value",image:""}
];
var products=JSON.parse(localStorage.getItem('pcm_products')||'null')||DEFAULT_PRODUCTS;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// REVIEWS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var DEFAULT_REVIEWS=[
  {id:1,name:"Arjun M.",product:"Hero Sprint Pro 29T",rating:5,text:"Absolutely love this bike! The suspension handles rocky trails perfectly. Best purchase of the year.",date:"2026-01-15",color:"#667eea"},
  {id:2,name:"Priya S.",product:"Hero Lectro C5i",rating:5,text:"The electric assist is game-changing for my daily commute. Charges overnight, lasts the whole day. Zero regrets!",date:"2026-01-28",color:"#f46b45"},
  {id:3,name:"Ravi K.",product:"Firefox Rapide 700C",rating:4,text:"Incredibly fast and lightweight. The carbon fork absorbs road vibrations beautifully. Delivery was prompt too.",date:"2026-02-03",color:"#11998e"},
  {id:4,name:"Meena T.",product:"Montra Blues 1.1",rating:5,text:"Perfect city bike! Comfortable saddle, smooth gears. I use it daily for office commute and Sunday rides.",date:"2026-02-10",color:"#f953c6"},
  {id:5,name:"Karthik R.",product:"Giant Talon 29er",rating:5,text:"Worth every rupee. The hydraulic disc brakes give so much confidence on steep descents. Top-notch quality.",date:"2026-02-14",color:"#764ba2"},
  {id:6,name:"Sunita D.",product:"Firefox Bike Viper",rating:4,text:"My daughter loves her new bike! Very sturdy with good safety features. Looks great too. Highly recommend.",date:"2026-02-16",color:"#0f9b8e"}
];
var reviews=JSON.parse(localStorage.getItem('pcm_reviews')||'null')||DEFAULT_REVIEWS;
function saveReviews(){localStorage.setItem('pcm_reviews',JSON.stringify(reviews));}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// WISHLIST
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var wishlist=JSON.parse(localStorage.getItem('pcm_wishlist')||'[]');
function saveWishlist(){localStorage.setItem('pcm_wishlist',JSON.stringify(wishlist));}
function isWished(id){return wishlist.indexOf(id)>=0;}
function toggleWish(id){
  var p=null;for(var i=0;i<products.length;i++){if(products[i].id===id){p=products[i];break;}}
  if(!p) return;
  var idx=wishlist.indexOf(id);
  if(idx>=0){wishlist.splice(idx,1);showToast('Removed from Wishlist');}
  else{wishlist.push(id);showToast('â¤ï¸ Added to Wishlist!');}
  saveWishlist();updateWishBadge();renderShop();
}
function updateWishBadge(){document.getElementById('wishCount').textContent=wishlist.length;}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CART
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var cart=[];
function fp(p){return Math.round(p.price*(1-(p.discount||0)/100));}
function addToCart(id){
  var p=null;for(var i=0;i<products.length;i++){if(products[i].id===id){p=products[i];break;}}
  if(!p||p.stock<=0) return;
  var ex=null;for(var i=0;i<cart.length;i++){if(cart[i].id===id){ex=cart[i];break;}}
  if(ex){if(ex.qty<p.stock)ex.qty++;else{showToast('Maximum stock reached!','warn');return;}}
  else cart.push({id:id,qty:1});
  updateCartBadge();showToast(p.name+' added to cart! ğŸ›’');
}
function updateCartBadge(){var t=0;for(var i=0;i<cart.length;i++)t+=cart[i].qty;document.getElementById('cartCount').textContent=t;}
function openCart(){renderCartItems();document.getElementById('cartModal').classList.add('open');}
function closeCart(){document.getElementById('cartModal').classList.remove('open');}
function renderCartItems(){
  var el=document.getElementById('cartItemsList');
  if(!cart.length){el.innerHTML='<div class="empty-msg"><span>ğŸ›’</span>Your cart is empty</div>';document.getElementById('cartTotal').textContent='â‚¹0';return;}
  var total=0,html='';
  for(var i=0;i<cart.length;i++){
    var ci=cart[i],p=null;for(var j=0;j<products.length;j++){if(products[j].id===ci.id){p=products[j];break;}}
    if(!p) continue;
    var price=fp(p),sub=price*ci.qty;total+=sub;
    html+='<div class="citem"><div class="citem-img">'+(p.image?'<img src="'+p.image+'" onerror="this.style.display=\'none\'">':'')+(p.icon||'ğŸš²')+'</div>';
    html+='<div class="citem-det"><div class="citem-name">'+p.name+'</div><div class="citem-price">â‚¹'+price.toLocaleString()+' Ã— '+ci.qty+' = â‚¹'+sub.toLocaleString()+'</div>';
    html+='<div class="qty-ctrl"><button class="qty-btn" onclick="changeQty('+p.id+',-1)">âˆ’</button><span class="qty-num">'+ci.qty+'</span><button class="qty-btn" onclick="changeQty('+p.id+',1)">+</button></div></div>';
    html+='<button class="remove-btn" onclick="removeFromCart('+p.id+')">Remove</button></div>';
  }
  el.innerHTML=html;document.getElementById('cartTotal').textContent='â‚¹'+total.toLocaleString();
}
function changeQty(id,delta){
  var p=null;for(var i=0;i<products.length;i++){if(products[i].id===id){p=products[i];break;}}
  var ci=null;for(var i=0;i<cart.length;i++){if(cart[i].id===id){ci=cart[i];break;}}
  if(!ci) return;
  ci.qty+=delta;
  if(ci.qty<=0) cart=cart.filter(function(x){return x.id!==id;});
  else if(ci.qty>p.stock){ci.qty=p.stock;showToast('Max stock!','warn');}
  updateCartBadge();renderCartItems();
}
function removeFromCart(id){cart=cart.filter(function(x){return x.id!==id;});updateCartBadge();renderCartItems();}
function sendWhatsApp(){
  if(!cart.length){showToast('Your cart is empty!','warn');return;}
  var total=0,msg='ğŸš´ *New Order - '+siteSettings.siteName+'* ğŸš´\n\nğŸ“‹ *Order Details:*\n'+'â”'.repeat(18)+'\n';
  for(var i=0;i<cart.length;i++){
    var ci=cart[i],p=null;for(var j=0;j<products.length;j++){if(products[j].id===ci.id){p=products[j];break;}}
    if(!p) continue;
    var price=fp(p),sub=price*ci.qty;total+=sub;
    msg+=(i+1)+'. *'+p.name+'*\n   Qty: '+ci.qty+' Ã— â‚¹'+price.toLocaleString()+' = â‚¹'+sub.toLocaleString()+'\n\n';
  }
  msg+='â”'.repeat(18)+'\nğŸ’° *Total Amount: â‚¹'+total.toLocaleString()+'*\n\nğŸ™ Please confirm my order. Thank you!';
  window.open('https://wa.me/'+siteSettings.whatsapp+'?text='+encodeURIComponent(msg),'_blank');
  cart=[];updateCartBadge();closeCart();showToast('Order sent via WhatsApp! âœ…');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// WISHLIST MODAL
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function openWishlist(){renderWishlistItems();document.getElementById('wishlistModal').classList.add('open');}
function closeWishlist(){document.getElementById('wishlistModal').classList.remove('open');}
function renderWishlistItems(){
  var el=document.getElementById('wishlistItems');
  if(!wishlist.length){el.innerHTML='<div class="empty-msg"><span>â¤ï¸</span>Your wishlist is empty.<br>Click the heart on any product!</div>';return;}
  var html='';
  for(var i=0;i<wishlist.length;i++){
    var p=null;for(var j=0;j<products.length;j++){if(products[j].id===wishlist[i]){p=products[j];break;}}
    if(!p) continue;
    html+='<div class="witem"><div class="witem-img">'+(p.image?'<img src="'+p.image+'" onerror="this.style.display=\'none\'">':'')+(p.icon||'ğŸš²')+'</div>';
    html+='<div class="witem-det"><div class="witem-name">'+p.name+'</div><div class="witem-price">â‚¹'+fp(p).toLocaleString()+(p.discount?'<span style="color:#2ed573;font-size:.75rem;margin-left:.4rem;">-'+p.discount+'%</span>':'')+'</div>';
    html+='<div class="witem-btns"><button class="btn-move-cart" onclick="moveToCart('+p.id+')">ğŸ›’ Add to Cart</button><button class="btn-rm-wish" onclick="removeFromWishlist('+p.id+')">âœ• Remove</button></div></div></div>';
  }
  el.innerHTML=html;
}
function moveToCart(id){addToCart(id);removeFromWishlist(id);}
function removeFromWishlist(id){
  wishlist=wishlist.filter(function(x){return x!==id;});
  saveWishlist();updateWishBadge();renderWishlistItems();renderShop();showToast('Removed from Wishlist');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SEARCH
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var currentSearch='';
var currentCat='all';
function onHeroSearch(val){
  currentSearch=val.trim().toLowerCase();
  document.getElementById('searchClearBtn').className='search-clear'+(currentSearch?' visible':'');
  renderShop();
  if(currentSearch){
    document.getElementById('products').scrollIntoView({behavior:'smooth'});
  }
}
function clearSearch(){
  currentSearch='';
  document.getElementById('heroSearch').value='';
  document.getElementById('searchClearBtn').className='search-clear';
  document.getElementById('searchResultsInfo').textContent='';
  renderShop();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// STARS HELPER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function getAvgRating(productName){
  var rev=reviews.filter(function(r){return r.product===productName;});
  if(!rev.length) return {avg:0,count:0};
  var sum=0;for(var i=0;i<rev.length;i++)sum+=rev[i].rating;
  return {avg:sum/rev.length,count:rev.length};
}
function renderStars(avg){
  var full=Math.round(avg);var html='';
  for(var i=1;i<=5;i++) html+='<span style="color:'+(i<=full?'#f39c12':'#ddd')+'">â˜…</span>';
  return html;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SHOP RENDER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderShop(filter){
  if(filter!==undefined) currentCat=filter;
  var sort=document.getElementById('sortSelect')?document.getElementById('sortSelect').value:'default';
  var list=currentCat==='all'?products.slice():products.filter(function(p){return p.category===currentCat;});
  // search filter
  if(currentSearch){
    list=list.filter(function(p){
      return p.name.toLowerCase().indexOf(currentSearch)>=0||
        p.category.toLowerCase().indexOf(currentSearch)>=0||
        (p.description&&p.description.toLowerCase().indexOf(currentSearch)>=0)||
        (p.badge&&p.badge.toLowerCase().indexOf(currentSearch)>=0);
    });
  }
  // sort
  if(sort==='price-asc') list.sort(function(a,b){return fp(a)-fp(b);});
  else if(sort==='price-desc') list.sort(function(a,b){return fp(b)-fp(a);});
  else if(sort==='discount') list.sort(function(a,b){return (b.discount||0)-(a.discount||0);});
  else if(sort==='name') list.sort(function(a,b){return a.name.localeCompare(b.name);});
  else if(sort==='rating') list.sort(function(a,b){return getAvgRating(b.name).avg-getAvgRating(a.name).avg;});

  // results info
  var info='';
  if(currentSearch) info='Showing '+list.length+' result'+(list.length!==1?'s':'')+" for '"+currentSearch+"'";
  else if(currentCat!=='all') info='Showing '+list.length+' '+currentCat+' bike'+(list.length!==1?'s':'');
  else info='Showing all '+list.length+' bikes';
  var ri=document.getElementById('resultsInfo');if(ri) ri.textContent=info;
  if(currentSearch){
    var sri=document.getElementById('searchResultsInfo');
    if(sri) sri.textContent=list.length+' bike'+(list.length!==1?'s':'')+' found';
  }

  var grid=document.getElementById('shopGrid');
  if(!list.length){
    grid.innerHTML='<div class="no-results" style="grid-column:1/-1"><div class="nr-icon">ğŸ”</div><h3>No bikes found</h3><p style="color:#bbb;">Try a different search or category.</p></div>';
    return;
  }
  var html='';
  for(var i=0;i<list.length;i++){
    var p=list[i],price=fp(p),hasDisc=p.discount>0,oos=p.stock<=0;
    var wished=isWished(p.id);
    var rating=getAvgRating(p.name);
    html+='<div class="pcard"><div class="pimg">';
    if(p.image){html+='<img src="'+p.image+'" alt="'+p.name+'" onerror="this.style.display=\'none\';this.nextElementSibling.style.display=\'flex\'">';
      html+='<div class="emoji-placeholder" style="display:none;">'+(p.icon||'ğŸš²')+'</div>';}
    else html+='<div class="emoji-placeholder">'+(p.icon||'ğŸš²')+'</div>';
    if(hasDisc) html+='<div class="disc-badge">-'+p.discount+'%</div>';
    if(oos) html+='<div class="out-badge">Out of Stock</div>';
    // heart / badge: badge moved to top-right, heart overlaps when no badge
    html+='<button class="wish-btn'+(wished?' wished':'')+'" onclick="toggleWish('+p.id+')" title="'+(wished?'Remove from':'Add to')+' Wishlist">'+(wished?'â¤ï¸':'ğŸ¤')+'</button>';
    if(p.badge) html+='<div class="pbadge" style="right:52px;">'+p.badge+'</div>';
    html+='</div><div class="pinfo"><div class="pcat">'+p.category+'</div><h3 class="pname">'+p.name+'</h3>';
    // star rating
    if(rating.count>0){
      html+='<div class="star-row">'+renderStars(rating.avg)+'<span class="review-count">('+rating.count+')</span></div>';
    } else {
      html+='<div class="star-row"><span style="color:#eee;font-size:.88rem;">â˜…â˜…â˜…â˜…â˜…</span><span class="review-count" style="color:#ddd;">No reviews yet</span></div>';
    }
    html+='<p class="pdesc">'+p.description+'</p><div class="pspecs">';
    var sp=p.specs||[];for(var s=0;s<sp.length;s++) html+='<span class="spec">âš™ï¸ '+sp[s]+'</span>';
    html+='</div><div class="pfoot"><div class="price-block">';
    if(hasDisc) html+='<div class="orig">â‚¹'+p.price.toLocaleString()+'</div>';
    html+='<div class="final">â‚¹'+price.toLocaleString()+'</div>';
    if(hasDisc) html+='<div class="saving">Save â‚¹'+(p.price-price).toLocaleString()+'</div>';
    html+='</div><button class="atc" onclick="addToCart('+p.id+')" '+(oos?'disabled':'')+'>'+(oos?'Out of Stock':'Add to Cart')+'</button></div></div></div>';
  }
  grid.innerHTML=html;
}
function filterCat(cat,btn){
  var btns=document.querySelectorAll('.fbtn');
  for(var i=0;i<btns.length;i++) btns[i].classList.remove('active');
  btn.classList.add('active');
  currentCat=cat;renderShop();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// REVIEWS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var revStar=0;
function renderReviews(){
  var grid=document.getElementById('reviewsGrid');
  if(!reviews.length){grid.innerHTML='<p style="color:#aaa;text-align:center;padding:2rem;">No reviews yet. Be the first!</p>';return;}
  var html='';
  var avatarColors=['#667eea','#f46b45','#11998e','#f953c6','#764ba2','#0f9b8e','#f39c12','#c0392b'];
  for(var i=0;i<reviews.length;i++){
    var r=reviews[i],stars='';
    for(var s=1;s<=5;s++) stars+='<span style="color:'+(s<=r.rating?'#f39c12':'#ddd')+';">â˜…</span>';
    var col=r.color||avatarColors[i%avatarColors.length];
    html+='<div class="rcard"><div class="rhead"><div class="ravatar" style="background:'+col+';">'+r.name.charAt(0)+'</div><div><div class="rname">'+r.name+'</div><div class="rproduct">'+r.product+'</div></div><div style="margin-left:auto;font-size:.88rem;">'+stars+'</div></div><p class="rtext">'+r.text+'</p><p class="rdate">'+r.date+'</p></div>';
  }
  grid.innerHTML=html;
}
function openReviewModal(){
  var sel=document.getElementById('rProduct');sel.innerHTML='';
  for(var i=0;i<products.length;i++){var o=document.createElement('option');o.value=products[i].name;o.textContent=products[i].name;sel.appendChild(o);}
  revStar=0;updateStarPicker();
  document.getElementById('rName').value='';document.getElementById('rText').value='';
  document.getElementById('reviewModal').classList.add('open');
}
function closeReviewModal(){document.getElementById('reviewModal').classList.remove('open');}
function setRevStar(n){revStar=n;updateStarPicker();}
function updateStarPicker(){
  var spans=document.querySelectorAll('#starPicker span');
  for(var i=0;i<spans.length;i++) spans[i].className=i<revStar?'active':'';
}
function submitReview(){
  var name=document.getElementById('rName').value.trim();
  var product=document.getElementById('rProduct').value;
  var text=document.getElementById('rText').value.trim();
  if(!name||!revStar||!text){showToast('âš ï¸ Please fill all fields and select a rating!','warn');return;}
  var colors=['#667eea','#f46b45','#11998e','#f953c6','#764ba2','#0f9b8e','#f39c12','#c0392b'];
  var today=new Date();var d=today.getFullYear()+'-'+String(today.getMonth()+1).padStart(2,'0')+'-'+String(today.getDate()).padStart(2,'0');
  reviews.unshift({id:Date.now(),name:name,product:product,rating:revStar,text:text,date:d,color:colors[Math.floor(Math.random()*colors.length)]});
  saveReviews();renderReviews();renderShop();closeReviewModal();showToast('Review submitted! â­ Thank you!');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ADMIN AUTH
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var ADMIN_USER='admin';var ADMIN_PASS='popular@2026';
function openAdminLogin(e){if(e)e.preventDefault();document.getElementById('adminLogin').classList.add('open');document.getElementById('loginUser').value='';document.getElementById('loginPass').value='';document.getElementById('loginErr').style.display='none';}
function closeAdminLogin(){document.getElementById('adminLogin').classList.remove('open');}
function doLogin(){
  var u=document.getElementById('loginUser').value.trim(),pw=document.getElementById('loginPass').value;
  if(u===ADMIN_USER&&pw===ADMIN_PASS){closeAdminLogin();document.getElementById('adminPanel').classList.add('open');showTab('dashboard',document.querySelector('.atab'));}
  else document.getElementById('loginErr').style.display='block';
}
function adminLogout(){document.getElementById('adminPanel').classList.remove('open');showToast('Logged out.');}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ADMIN TABS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showTab(tab,el){
  var tabs=document.querySelectorAll('.atab');for(var i=0;i<tabs.length;i++) tabs[i].classList.remove('active');
  if(el) el.classList.add('active');
  var names=['dashboard','products','stock','discounts','reviews','settings'];
  for(var i=0;i<names.length;i++) document.getElementById('tab-'+names[i]).style.display=names[i]===tab?'block':'none';
  if(tab==='dashboard') renderDashboard();
  if(tab==='products') renderProductsTab('');
  if(tab==='stock') renderStockTab();
  if(tab==='discounts') renderDiscountsTab();
  if(tab==='reviews') renderAdminReviews();
  if(tab==='settings') renderSettingsTab();
}

function renderDashboard(){
  var totalVal=0,oos=0,low=0,disc=0,units=0;
  for(var i=0;i<products.length;i++){var p=products[i];totalVal+=fp(p)*p.stock;if(p.stock===0)oos++;else if(p.stock<=5)low++;if(p.discount>0)disc++;units+=p.stock;}
  var rows='';
  for(var i=0;i<Math.min(products.length,8);i++){var p=products[i];var cls=p.stock===0?'out-stock':p.stock<=5?'low-stock':'in-stock';var lbl=p.stock===0?'Out of Stock':p.stock<=5?'Low Stock':'In Stock';rows+='<tr><td><b>'+p.name+'</b></td><td style="text-transform:capitalize;">'+p.category+'</td><td>â‚¹'+fp(p).toLocaleString()+'</td><td>'+p.stock+'</td><td><span class="stock-badge '+cls+'">'+lbl+'</span></td></tr>';}
  document.getElementById('tab-dashboard').innerHTML='<h2 style="color:#2c3e50;margin-bottom:1.5rem;font-family:var(--display);">ğŸ“Š Dashboard Overview</h2>'+
    '<div class="dash-cards">'+
    '<div class="dcard"><div class="dcard-icon" style="background:#e8f4fd;">ğŸ“¦</div><div class="dcard-info"><h3>'+products.length+'</h3><p>Total Products</p></div></div>'+
    '<div class="dcard"><div class="dcard-icon" style="background:#e8fdf4;">ğŸ’°</div><div class="dcard-info"><h3>â‚¹'+totalVal.toLocaleString()+'</h3><p>Inventory Value</p></div></div>'+
    '<div class="dcard"><div class="dcard-icon" style="background:#fde8e8;">âš ï¸</div><div class="dcard-info"><h3>'+oos+'</h3><p>Out of Stock</p></div></div>'+
    '<div class="dcard"><div class="dcard-icon" style="background:#fff3cd;">ğŸ“‰</div><div class="dcard-info"><h3>'+low+'</h3><p>Low Stock (â‰¤5)</p></div></div>'+
    '<div class="dcard"><div class="dcard-icon" style="background:#f0e8ff;">ğŸ·ï¸</div><div class="dcard-info"><h3>'+disc+'</h3><p>On Discount</p></div></div>'+
    '<div class="dcard"><div class="dcard-icon" style="background:#fdf0e8;">â­</div><div class="dcard-info"><h3>'+reviews.length+'</h3><p>Total Reviews</p></div></div></div>'+
    '<div class="table-wrap"><table><thead><tr><th>Product</th><th>Category</th><th>Price</th><th>Stock</th><th>Status</th></tr></thead><tbody>'+rows+'</tbody></table></div>';
}

function renderProductsTab(filter){
  var list=products;
  if(filter){var f=filter.toLowerCase();list=products.filter(function(p){return p.name.toLowerCase().indexOf(f)>=0||p.category.indexOf(f)>=0;});}
  var rows='';
  for(var i=0;i<list.length;i++){var p=list[i];var cls=p.stock===0?'out-stock':p.stock<=5?'low-stock':'in-stock';var rat=getAvgRating(p.name);
    rows+='<tr><td><div class="thumb">'+(p.image?'<img src="'+p.image+'" onerror="this.style.display=\'none\'">':p.icon||'ğŸš²')+'</div></td>'+
    '<td><b>'+p.name+'</b>'+(p.badge?'<br><span style="font-size:.72rem;color:#667eea;">'+p.badge+'</span>':'')+'</td>'+
    '<td style="text-transform:capitalize;">'+p.category+'</td><td>â‚¹'+p.price.toLocaleString()+'</td>'+
    '<td>'+(p.discount?'<span style="color:#e67e22;font-weight:700;">'+p.discount+'%</span>':'â€”')+'</td>'+
    '<td style="color:#667eea;font-weight:700;">â‚¹'+fp(p).toLocaleString()+'</td>'+
    '<td><span class="stock-badge '+cls+'">'+p.stock+'</span></td>'+
    '<td>'+(rat.count?'<span style="color:#f39c12;">'+rat.avg.toFixed(1)+'â˜…</span> ('+rat.count+')':'â€”')+'</td>'+
    '<td><button class="act-btn btn-edit" onclick="openProductForm('+p.id+')">âœï¸ Edit</button> <button class="act-btn btn-del" onclick="deleteProduct('+p.id+')">ğŸ—‘ï¸ Del</button></td></tr>';
  }
  document.getElementById('tab-products').innerHTML=
    '<div class="section-hdr"><h2>ğŸš´ Manage Products</h2><div style="display:flex;gap:.8rem;align-items:center;flex-wrap:wrap;">'+
    '<input class="admin-search" placeholder="ğŸ” Search..." oninput="renderProductsTab(this.value)">'+
    '<button class="btn-add" onclick="openProductForm(null)">+ Add Product</button></div></div>'+
    '<div class="table-wrap"><table><thead><tr><th>Image</th><th>Name</th><th>Category</th><th>Price</th><th>Disc</th><th>Final</th><th>Stock</th><th>Rating</th><th>Actions</th></tr></thead><tbody>'+rows+'</tbody></table></div>';
}

function renderStockTab(){
  var rows='';
  for(var i=0;i<products.length;i++){var p=products[i];var cls=p.stock===0?'out-stock':p.stock<=5?'low-stock':'in-stock';var lbl=p.stock===0?'Out of Stock':p.stock<=5?'Low Stock':'In Stock';
    rows+='<tr><td><b>'+p.name+'</b></td><td style="text-transform:capitalize;">'+p.category+'</td>'+
    '<td style="font-size:1.05rem;font-weight:700;">'+p.stock+'</td><td><span class="stock-badge '+cls+'">'+lbl+'</span></td>'+
    '<td><div style="display:flex;align-items:center;gap:.5rem;"><button class="qty-btn" onclick="updateStock('+p.id+',-1)">âˆ’</button>'+
    '<input type="number" value="'+p.stock+'" min="0" style="width:60px;padding:.3rem .4rem;border:2px solid #ecf0f1;border-radius:7px;text-align:center;font-weight:700;" onchange="setStock('+p.id+',this.value)">'+
    '<button class="qty-btn" onclick="updateStock('+p.id+',1)">+</button></div></td></tr>';
  }
  document.getElementById('tab-stock').innerHTML='<div class="section-hdr"><h2>ğŸ“¦ Stock Management</h2></div>'+
    '<div class="table-wrap"><table><thead><tr><th>Product</th><th>Category</th><th>Current Stock</th><th>Status</th><th>Update</th></tr></thead><tbody>'+rows+'</tbody></table></div>';
}

function renderDiscountsTab(){
  var rows='';
  for(var i=0;i<products.length;i++){var p=products[i];var price=fp(p),saving=p.price-price;
    rows+='<tr><td><b>'+p.name+'</b></td><td style="text-transform:capitalize;">'+p.category+'</td>'+
    '<td>â‚¹'+p.price.toLocaleString()+'</td>'+
    '<td><input type="number" id="disc_'+p.id+'" value="'+(p.discount||0)+'" min="0" max="90" style="width:65px;padding:.3rem .4rem;border:2px solid #ecf0f1;border-radius:7px;text-align:center;font-weight:700;"></td>'+
    '<td style="color:#667eea;font-weight:700;" id="fp_'+p.id+'">â‚¹'+price.toLocaleString()+'</td>'+
    '<td style="color:#2ed573;font-weight:600;" id="sav_'+p.id+'">â‚¹'+saving.toLocaleString()+'</td>'+
    '<td><button class="act-btn btn-edit" onclick="applyDiscount('+p.id+')">âœ… Apply</button> <button class="act-btn btn-del" onclick="removeDiscount('+p.id+')">âœ• Remove</button></td></tr>';
  }
  document.getElementById('tab-discounts').innerHTML='<div class="section-hdr"><h2>ğŸ·ï¸ Discount Management</h2></div>'+
    '<div class="table-wrap"><table><thead><tr><th>Product</th><th>Category</th><th>Original</th><th>Discount %</th><th>Final</th><th>Saves</th><th>Action</th></tr></thead><tbody>'+rows+'</tbody></table></div>';
}

function renderAdminReviews(){
  var rows='';
  var avatarColors=['#667eea','#f46b45','#11998e','#f953c6','#764ba2','#0f9b8e'];
  for(var i=0;i<reviews.length;i++){
    var r=reviews[i];var stars='';
    for(var s=1;s<=5;s++) stars+='<span style="color:'+(s<=r.rating?'#f39c12':'#ddd')+';">â˜…</span>';
    rows+='<tr><td><b>'+r.name+'</b></td><td>'+r.product+'</td><td>'+stars+'</td>'+
    '<td style="max-width:260px;word-wrap:break-word;">'+r.text+'</td><td>'+r.date+'</td>'+
    '<td><button class="act-btn btn-del" onclick="deleteReview('+r.id+')">ğŸ—‘ï¸ Del</button></td></tr>';
  }
  document.getElementById('tab-reviews').innerHTML='<div class="section-hdr"><h2>â­ Customer Reviews ('+reviews.length+')</h2></div>'+
    '<div class="table-wrap"><table><thead><tr><th>Reviewer</th><th>Product</th><th>Rating</th><th>Review</th><th>Date</th><th>Action</th></tr></thead><tbody>'+rows+'</tbody></table></div>';
}
function deleteReview(id){
  if(!confirm('Delete this review?')) return;
  reviews=reviews.filter(function(x){return x.id!==id;});
  saveReviews();renderAdminReviews();renderReviews();renderShop();showToast('Review deleted.');
}

function renderSettingsTab(){
  var s=siteSettings;
  var presets='';
  for(var i=0;i<THEME_PRESETS.length;i++){var tp=THEME_PRESETS[i];var sel=(s.color1===tp.c1&&s.color2===tp.c2)?'selected':'';presets+='<div class="preset-btn '+sel+'" style="background:linear-gradient(135deg,'+tp.c1+','+tp.c2+')" title="'+tp.name+'" onclick="applyPreset(\''+tp.c1+'\',\''+tp.c2+'\')"></div>';}
  var fontOpts='';
  for(var i=0;i<FONT_OPTIONS.length;i++){var sel=s.font===FONT_OPTIONS[i].val?'selected':'';fontOpts+='<option value="'+FONT_OPTIONS[i].val+'" '+sel+'>'+FONT_OPTIONS[i].label+'</option>';}
  document.getElementById('tab-settings').innerHTML=
    '<div class="section-hdr" style="margin-bottom:1.5rem;"><h2>ğŸ¨ Site Settings</h2><div style="display:flex;gap:.6rem;"><button class="btn-reset-all" onclick="resetAllSettings()">â†º Reset</button><button class="btn-apply" onclick="collectAndSaveSettings()">ğŸ’¾ Save All</button></div></div>'+
    '<div class="settings-grid">'+
    '<div class="settings-card"><h3>ğŸª Branding</h3><div class="srow"><div class="sgrp"><label>Store Name</label><input id="s_siteName" value="'+esc(s.siteName)+'"></div><div class="sgrp"><label>Logo Emoji</label><input id="s_logoEmoji" value="'+esc(s.logoEmoji)+'"></div></div><div class="srow full"><div class="sgrp"><label>Browser Tab Title</label><input id="s_metaTitle" value="'+esc(s.metaTitle)+'"></div></div><div class="srow full"><div class="sgrp"><label>Footer Description</label><textarea id="s_ftAbout">'+esc(s.ftAbout)+'</textarea></div></div><div class="srow full"><div class="sgrp"><label>Footer Copyright</label><input id="s_ftCopyright" value="'+esc(s.ftCopyright)+'"></div></div></div>'+
    '<div class="settings-card"><h3>ğŸ¯ Hero Section</h3><div class="srow full"><div class="sgrp"><label>Main Heading</label><input id="s_heroTitle" value="'+esc(s.heroTitle)+'"></div></div><div class="srow full"><div class="sgrp"><label>Subtitle</label><input id="s_heroSubtitle" value="'+esc(s.heroSubtitle)+'"></div></div><div class="srow full"><div class="sgrp"><label>Tagline</label><input id="s_heroTagline" value="'+esc(s.heroTagline)+'"></div></div><div class="live-preview"><div class="preview-hero" id="previewHero" style="background:linear-gradient(135deg,'+s.color1+','+s.color2+')"><h4 id="previewTitle">'+esc(s.heroTitle)+'</h4><p id="previewSub" style="font-size:.78rem;opacity:.85;">'+esc(s.heroSubtitle)+'</p></div><div style="font-size:.75rem;color:#999;">Live preview</div></div></div>'+
    '<div class="settings-card"><h3>ğŸ§­ Navigation</h3><div class="srow"><div class="sgrp"><label>Menu Item 1</label><input id="s_navHome" value="'+esc(s.navHome)+'"></div><div class="sgrp"><label>Menu Item 2</label><input id="s_navShop" value="'+esc(s.navShop)+'"></div></div><div class="srow full"><div class="sgrp"><label>Menu Item 3</label><input id="s_navContact" value="'+esc(s.navContact)+'"></div></div></div>'+
    '<div class="settings-card"><h3>ğŸ“ Contact Info</h3><div class="srow full"><div class="sgrp"><label>Email</label><input id="s_contactEmail" type="email" value="'+esc(s.contactEmail)+'"></div></div><div class="srow"><div class="sgrp"><label>Phone</label><input id="s_contactPhone" value="'+esc(s.contactPhone)+'"></div><div class="sgrp"><label>WhatsApp (with code)</label><input id="s_whatsapp" value="'+esc(s.whatsapp)+'"></div></div><div class="srow full"><div class="sgrp"><label>Address</label><textarea id="s_contactAddress">'+esc(s.contactAddress)+'</textarea></div></div></div>'+
    '<div class="settings-card"><h3>ğŸ¨ Theme Colors</h3><p style="font-size:.8rem;color:#777;margin-bottom:.5rem;">Quick Presets:</p><div class="theme-presets" id="presetBtns">'+presets+'</div><div class="srow"><div class="sgrp"><label>Primary Color</label><div class="color-pair"><input type="color" id="s_color1" value="'+s.color1+'" oninput="syncColorText(\'s_color1\',\'s_color1t\');updateHeroPreview()"><input type="text" id="s_color1t" value="'+s.color1+'" oninput="syncColorPicker(\'s_color1t\',\'s_color1\');updateHeroPreview()"></div></div><div class="sgrp"><label>Secondary Color</label><div class="color-pair"><input type="color" id="s_color2" value="'+s.color2+'" oninput="syncColorText(\'s_color2\',\'s_color2t\');updateHeroPreview()"><input type="text" id="s_color2t" value="'+s.color2+'" oninput="syncColorPicker(\'s_color2t\',\'s_color2\');updateHeroPreview()"></div></div></div><div class="srow"><div class="sgrp"><label>Footer Background</label><div class="color-pair"><input type="color" id="s_footerBg" value="'+s.footerBg+'"><input type="text" id="s_footerBgt" value="'+s.footerBg+'"></div></div><div class="sgrp"><label>Font</label><select id="s_font">'+fontOpts+'</select></div></div></div>'+
    '</div><div style="margin-top:1.5rem;display:flex;justify-content:flex-end;gap:.8rem;"><button class="btn-reset-all" onclick="resetAllSettings()">â†º Reset</button><button class="btn-apply" onclick="collectAndSaveSettings()">ğŸ’¾ Save All</button></div>';
  document.getElementById('s_heroTitle').addEventListener('input',updateHeroPreview);
  document.getElementById('s_heroSubtitle').addEventListener('input',updateHeroPreview);
}
function esc(str){return(str||'').replace(/"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;');}
function syncColorText(pickerId,textId){var v=document.getElementById(pickerId).value;if(document.getElementById(textId))document.getElementById(textId).value=v;}
function syncColorPicker(textId,pickerId){var v=document.getElementById(textId).value.trim();if(/^#[0-9a-fA-F]{6}$/.test(v))document.getElementById(pickerId).value=v;}
function updateHeroPreview(){
  var c1=document.getElementById('s_color1')?document.getElementById('s_color1').value:siteSettings.color1;
  var c2=document.getElementById('s_color2')?document.getElementById('s_color2').value:siteSettings.color2;
  var t=document.getElementById('s_heroTitle')?document.getElementById('s_heroTitle').value:'';
  var su=document.getElementById('s_heroSubtitle')?document.getElementById('s_heroSubtitle').value:'';
  var ph=document.getElementById('previewHero');if(ph)ph.style.background='linear-gradient(135deg,'+c1+','+c2+')';
  if(document.getElementById('previewTitle'))document.getElementById('previewTitle').textContent=t;
  if(document.getElementById('previewSub'))document.getElementById('previewSub').textContent=su;
}
function applyPreset(c1,c2){
  document.getElementById('s_color1').value=c1;document.getElementById('s_color1t').value=c1;
  document.getElementById('s_color2').value=c2;document.getElementById('s_color2t').value=c2;
  var btns=document.querySelectorAll('.preset-btn');for(var i=0;i<btns.length;i++)btns[i].classList.remove('selected');
  for(var i=0;i<THEME_PRESETS.length;i++){if(THEME_PRESETS[i].c1===c1&&THEME_PRESETS[i].c2===c2){btns[i].classList.add('selected');break;}}
  updateHeroPreview();
}
function collectAndSaveSettings(){
  siteSettings.siteName=document.getElementById('s_siteName').value.trim()||'Popular Cycle Mart';
  siteSettings.logoEmoji=document.getElementById('s_logoEmoji').value.trim();
  siteSettings.metaTitle=document.getElementById('s_metaTitle').value.trim()||siteSettings.siteName;
  siteSettings.ftAbout=document.getElementById('s_ftAbout').value.trim();
  siteSettings.ftCopyright=document.getElementById('s_ftCopyright').value.trim();
  siteSettings.heroTitle=document.getElementById('s_heroTitle').value.trim();
  siteSettings.heroSubtitle=document.getElementById('s_heroSubtitle').value.trim();
  siteSettings.heroTagline=document.getElementById('s_heroTagline').value.trim();
  siteSettings.navHome=document.getElementById('s_navHome').value.trim()||'Home';
  siteSettings.navShop=document.getElementById('s_navShop').value.trim()||'Shop';
  siteSettings.navContact=document.getElementById('s_navContact').value.trim()||'Contact';
  siteSettings.contactEmail=document.getElementById('s_contactEmail').value.trim();
  siteSettings.contactPhone=document.getElementById('s_contactPhone').value.trim();
  siteSettings.whatsapp=document.getElementById('s_whatsapp').value.trim();
  siteSettings.contactAddress=document.getElementById('s_contactAddress').value.trim();
  siteSettings.color1=document.getElementById('s_color1').value;
  siteSettings.color2=document.getElementById('s_color2').value;
  siteSettings.footerBg=document.getElementById('s_footerBg').value;
  siteSettings.font=document.getElementById('s_font').value;
  saveSettings();applySettingsToPage();showToast('âœ… Settings saved!');
}
function resetAllSettings(){
  if(!confirm('Reset all settings to default?'))return;
  siteSettings=Object.assign({},DEFAULT_SETTINGS);
  saveSettings();applySettingsToPage();renderSettingsTab();showToast('Settings reset.');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PRODUCT CRUD
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var editingId=null;
function saveData(){localStorage.setItem('pcm_products',JSON.stringify(products));}
function openProductForm(id){
  editingId=id;
  document.getElementById('formTitle').textContent=id?'Edit Product':'Add New Product';
  if(id){
    var p=null;for(var i=0;i<products.length;i++){if(products[i].id===id){p=products[i];break;}}
    document.getElementById('fId').value=p.id;document.getElementById('fName').value=p.name;
    document.getElementById('fCat').value=p.category;document.getElementById('fDesc').value=p.description;
    document.getElementById('fPrice').value=p.price;document.getElementById('fDiscount').value=p.discount||0;
    document.getElementById('fStock').value=p.stock;document.getElementById('fBadge').value=p.badge||'';
    document.getElementById('fSpec1').value=(p.specs&&p.specs[0])||'';document.getElementById('fSpec2').value=(p.specs&&p.specs[1])||'';
    document.getElementById('fSpec3').value=(p.specs&&p.specs[2])||'';document.getElementById('fIcon').value=p.icon||'';
    document.getElementById('fImg').value=p.image||'';previewImg();
  } else {
    var ids=['fId','fName','fDesc','fPrice','fDiscount','fStock','fBadge','fSpec1','fSpec2','fSpec3','fIcon','fImg'];
    for(var i=0;i<ids.length;i++) document.getElementById(ids[i]).value='';
    document.getElementById('fCat').value='mountain';
    document.getElementById('imgPreview').innerHTML='<div class="img-placeholder">ğŸ–¼ï¸<br>Paste image URL above to preview</div>';
  }
  document.getElementById('productFormModal').classList.add('open');
}
function closeProductForm(){document.getElementById('productFormModal').classList.remove('open');}
function previewImg(){
  var url=document.getElementById('fImg').value.trim();var prev=document.getElementById('imgPreview');
  if(url) prev.innerHTML='<img src="'+url+'" style="max-width:100%;max-height:116px;object-fit:contain;" onerror="this.parentElement.innerHTML=\'<div class=\\\'img-placeholder\\\'>âŒ Invalid URL</div>\'">';
  else prev.innerHTML='<div class="img-placeholder">ğŸ–¼ï¸<br>Paste image URL above to preview</div>';
}
function saveProduct(){
  var name=document.getElementById('fName').value.trim(),price=parseInt(document.getElementById('fPrice').value),stock=parseInt(document.getElementById('fStock').value);
  if(!name||!price||isNaN(stock)){showToast('âš ï¸ Please fill all required fields!','warn');return;}
  var specs=[];
  if(document.getElementById('fSpec1').value) specs.push(document.getElementById('fSpec1').value);
  if(document.getElementById('fSpec2').value) specs.push(document.getElementById('fSpec2').value);
  if(document.getElementById('fSpec3').value) specs.push(document.getElementById('fSpec3').value);
  var data={name:name,category:document.getElementById('fCat').value,description:document.getElementById('fDesc').value,price:price,discount:parseInt(document.getElementById('fDiscount').value)||0,stock:Math.max(0,stock),badge:document.getElementById('fBadge').value,specs:specs,icon:document.getElementById('fIcon').value||'ğŸš²',image:document.getElementById('fImg').value.trim()};
  if(editingId){for(var i=0;i<products.length;i++){if(products[i].id===editingId){for(var k in data)products[i][k]=data[k];break;}}showToast('Product updated! âœ…');}
  else{data.id=Date.now();products.push(data);showToast('Product added! âœ…');}
  saveData();closeProductForm();renderProductsTab('');renderShop();
}
function deleteProduct(id){
  if(!confirm('Delete this product?'))return;
  products=products.filter(function(x){return x.id!==id;});
  saveData();renderProductsTab('');renderShop();showToast('Product deleted.');
}
function updateStock(id,delta){
  for(var i=0;i<products.length;i++){if(products[i].id===id){products[i].stock=Math.max(0,products[i].stock+delta);break;}}
  saveData();renderStockTab();renderShop();
}
function setStock(id,val){
  for(var i=0;i<products.length;i++){if(products[i].id===id){products[i].stock=Math.max(0,parseInt(val)||0);break;}}
  saveData();renderShop();showToast('Stock updated!');
}
function applyDiscount(id){
  var el=document.getElementById('disc_'+id);var val=Math.min(90,Math.max(0,parseInt(el.value)||0));
  for(var i=0;i<products.length;i++){if(products[i].id===id){products[i].discount=val;var p=products[i];
    document.getElementById('fp_'+id).textContent='â‚¹'+fp(p).toLocaleString();
    document.getElementById('sav_'+id).textContent='â‚¹'+(p.price-fp(p)).toLocaleString();showToast('Discount applied! âœ…');break;}}
  saveData();renderShop();
}
function removeDiscount(id){
  for(var i=0;i<products.length;i++){if(products[i].id===id){products[i].discount=0;
    document.getElementById('disc_'+id).value=0;document.getElementById('fp_'+id).textContent='â‚¹'+products[i].price.toLocaleString();
    document.getElementById('sav_'+id).textContent='â‚¹0';showToast('Discount removed.');break;}}
  saveData();renderShop();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TOAST
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var toastTimer=null;
function showToast(msg,type){
  var t=document.getElementById('toast');t.textContent=msg;
  t.className='toast show'+(type==='warn'?' warn':'');
  if(toastTimer)clearTimeout(toastTimer);
  toastTimer=setTimeout(function(){t.classList.remove('show');},3000);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MODAL CLOSE ON BACKDROP
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
['cartModal','wishlistModal','reviewModal','productFormModal','adminLogin'].forEach(function(id){
  document.getElementById(id).addEventListener('click',function(e){
    if(e.target.id===id){
      document.getElementById(id).classList.remove('open');
    }
  });
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// HERO SLIDESHOW
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var slideIdx=0,slideTimer=null;
function goSlide(n){
  var slides=document.querySelectorAll('.hero-slide'),dots=document.querySelectorAll('.hdot');
  if(!slides.length)return;
  slides[slideIdx].classList.remove('active');dots[slideIdx].classList.remove('active');
  slideIdx=(n+slides.length)%slides.length;
  slides[slideIdx].classList.add('active');dots[slideIdx].classList.add('active');
}
function shiftSlide(dir){goSlide(slideIdx+dir);if(slideTimer)clearInterval(slideTimer);slideTimer=setInterval(function(){goSlide(slideIdx+1);},5000);}
function jumpCat(cat){
  document.getElementById('products').scrollIntoView({behavior:'smooth'});
  setTimeout(function(){
    var btns=document.querySelectorAll('.fbtn');
    for(var i=0;i<btns.length;i++){
      btns[i].classList.remove('active');
      var txt=btns[i].textContent.toLowerCase();
      if(cat==='all'&&txt.includes('all'))btns[i].classList.add('active');
      else if(cat!=='all'&&txt.includes(cat))btns[i].classList.add('active');
    }
    currentCat=cat;renderShop();
  },600);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
applySettingsToPage();
renderShop();
renderReviews();
updateWishBadge();
updateAllBadges();
slideTimer=setInterval(function(){goSlide(slideIdx+1);},5000);

// =============================================
// MOBILE NAVIGATION
// =============================================
function toggleMobileNav(){
  var btn=document.getElementById('hamburgerBtn');
  var drawer=document.getElementById('mobileNavDrawer');
  var overlay=document.getElementById('mobileNavOverlay');
  var isOpen=drawer.classList.contains('open');
  if(isOpen){closeMobileNav();}else{
    btn.classList.add('open');drawer.classList.add('open');overlay.classList.add('open');
    document.body.style.overflow='hidden';
  }
}
function closeMobileNav(){
  document.getElementById('hamburgerBtn').classList.remove('open');
  document.getElementById('mobileNavDrawer').classList.remove('open');
  document.getElementById('mobileNavOverlay').classList.remove('open');
  document.body.style.overflow='';
}
function setActiveNav(id){
  document.querySelectorAll('.bnav-item').forEach(function(el){el.classList.remove('active');});
  var el=document.getElementById(id);if(el) el.classList.add('active');
}
function scrollToTop(){window.scrollTo({top:0,behavior:'smooth'});}
function focusSearch(){
  document.getElementById('heroSection').scrollIntoView({behavior:'smooth'});
  setTimeout(function(){var s=document.getElementById('heroSearch');if(s)s.focus();},650);
}
function updateAllBadges(){
  var ct=0;for(var i=0;i<cart.length;i++)ct+=cart[i].qty;
  var wt=wishlist.length;
  document.getElementById('cartCount').textContent=ct;
  document.getElementById('wishCount').textContent=wt;
  var mc=document.getElementById('mCartCount');if(mc)mc.textContent=ct;
  var mw=document.getElementById('mWishCount');if(mw)mw.textContent=wt;
  var bc=document.getElementById('bnavCartCount');
  if(bc){bc.textContent=ct;bc.style.display=ct>0?'flex':'none';}
  var bw=document.getElementById('bnavWishCount');
  if(bw){bw.textContent=wt;bw.style.display=wt>0?'flex':'none';}
}

// Swipe on hero slides
(function(){
  var hero=document.getElementById('heroSection');
  if(!hero) return;
  var sx=0,sy=0;
  hero.addEventListener('touchstart',function(e){sx=e.touches[0].clientX;sy=e.touches[0].clientY;},{passive:true});
  hero.addEventListener('touchend',function(e){
    var dx=e.changedTouches[0].clientX-sx,dy=e.changedTouches[0].clientY-sy;
    if(Math.abs(dx)>60&&Math.abs(dx)>Math.abs(dy)){if(dx<0)shiftSlide(1);else shiftSlide(-1);}
  },{passive:true});
})();

// Swipe down modals to close
['cartModal','wishlistModal','reviewModal'].forEach(function(mid){
  var el=document.getElementById(mid);if(!el) return;
  var box=el.querySelector('.modal-box,.rev-modal');if(!box) return;
  var sy2=0;
  box.addEventListener('touchstart',function(e){sy2=e.touches[0].clientY;},{passive:true});
  box.addEventListener('touchend',function(e){
    var dy=e.changedTouches[0].clientY-sy2;
    if(dy>80){el.classList.remove('open');}
  },{passive:true});
});

// Scroll -> bottom nav active
window.addEventListener('scroll',function(){
  var py=window.pageYOffset;
  var prod=document.getElementById('products');
  if(prod&&py>=prod.offsetTop-120){setActiveNav('bnav-shop');}
  else if(py<300){setActiveNav('bnav-home');}
},{passive:true});

// Patch badge functions
var _oCB=updateCartBadge;updateCartBadge=function(){_oCB();updateAllBadges();};
var _oWB=updateWishBadge;updateWishBadge=function(){_oWB();updateAllBadges();};

</script>
</body>
</html>
